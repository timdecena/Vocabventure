{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Jake\\\\Desktop\\\\VocabVenture\\\\Vocabventure\\\\frontend\\\\src\\\\pages\\\\Game\\\\JungleLushLevel5.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { Box, Typography, Button, Paper, Grid, CircularProgress, Dialog, DialogActions, DialogContent, TextField } from '@mui/material';\nimport { useNavigate } from 'react-router-dom';\nimport { styled, keyframes } from '@mui/material/styles';\nimport '../../styles/MapView.css';\nimport CloseIcon from '@mui/icons-material/Close';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst TOWER_BG = 'https://static.wikia.nocookie.net/hollowknight/images/9/9d/Soul_Master_Phase_2.png/revision/latest/scale-to-width-down/1000?cb=20200722140029';\nconst WIZARD_IMG = 'https://www.shutterstock.com/image-vector/pixel-art-wizard-long-beard-260nw-2544146115.jpg';\nconst USER_IMG = 'https://w7.pngwing.com/pngs/928/303/png-transparent-pixel-dodgers-pixel-art-sprite-text-cartoon-fictional-character.png';\nconst GRAMMOWL_IMG = 'https://pics.craiyon.com/2023-09-03/961fec15ab014817b35778ba0c789a44.webp';\nconst SCROLL_IMG = 'https://i.pinimg.com/736x/f8/93/cb/f893cb2962a5ec989290081903561047.jpg';\nconst HEART_IMG = 'https://p7.hiclipart.com/preview/28/266/352/pixel-art-heart-8-bit-color-heart-thumbnail.jpg';\nconst bounce = keyframes`\n  0%, 100% { transform: translateY(0); }\n  50% { transform: translateY(-10px); }\n`;\nconst shake = keyframes`\n  0%, 100% { transform: translateX(0); }\n  25% { transform: translateX(-8px); }\n  75% { transform: translateX(8px); }\n`;\nconst hit = keyframes`\n  0% { transform: scale(1); }\n  25% { transform: scale(1.1); }\n  50% { transform: scale(0.9); }\n  75% { transform: scale(1.05); }\n  100% { transform: scale(1); }\n`;\nconst userFlash = keyframes`\n  0%, 100% { opacity: 1; filter: brightness(1); }\n  50% { opacity: 0.7; filter: brightness(1.2) sepia(1) saturate(10000%) hue-rotate(-50deg); }\n`;\nconst monsterFlash = keyframes`\n  0%, 100% { opacity: 1; filter: brightness(1); }\n  50% { opacity: 0.7; filter: brightness(1.2) sepia(1) saturate(10000%) hue-rotate(180deg); }\n`;\nconst SceneContainer = styled(Box)(({\n  theme\n}) => ({\n  width: '100%',\n  height: '100vh',\n  display: 'flex',\n  flexDirection: 'column',\n  alignItems: 'center',\n  justifyContent: 'flex-end',\n  backgroundImage: `url(${TOWER_BG})`,\n  backgroundSize: 'cover',\n  backgroundPosition: 'center',\n  position: 'relative',\n  overflow: 'hidden'\n}));\n_c = SceneContainer;\nconst Ground = styled(Box)(({\n  theme\n}) => ({\n  position: 'absolute',\n  left: 0,\n  bottom: '90px',\n  width: '100%',\n  height: '40px',\n  background: 'linear-gradient(to top, #3e2e1a 80%, rgba(62,46,26,0.2) 100%)',\n  zIndex: 2,\n  borderTopLeftRadius: '30px',\n  borderTopRightRadius: '30px',\n  boxShadow: '0 0 16px 2px rgba(0,0,0,0.25)'\n}));\n_c2 = Ground;\nconst SpritesRow = styled(Box)(({\n  theme\n}) => ({\n  width: '900px',\n  maxWidth: '90vw',\n  position: 'absolute',\n  left: '50%',\n  transform: 'translateX(-50%)',\n  bottom: '130px',\n  height: '160px',\n  zIndex: 3,\n  pointerEvents: 'none'\n}));\n_c3 = SpritesRow;\nconst WizardUserGroup = styled(Box)(({\n  theme\n}) => ({\n  position: 'absolute',\n  left: 0,\n  bottom: 0,\n  display: 'flex',\n  flexDirection: 'row',\n  alignItems: 'flex-end',\n  gap: '24px'\n}));\n_c4 = WizardUserGroup;\nconst MonsterGroup = styled(Box)(({\n  theme\n}) => ({\n  position: 'absolute',\n  right: 0,\n  bottom: 0,\n  display: 'flex',\n  flexDirection: 'row',\n  alignItems: 'flex-end',\n  gap: '32px'\n}));\n_c5 = MonsterGroup;\nconst WizardSprite = styled('img')({\n  width: '120px',\n  height: 'auto',\n  filter: 'drop-shadow(0 8px 16px rgba(0,0,0,0.5))',\n  animation: `${bounce} 2.2s infinite`\n});\n_c6 = WizardSprite;\nconst UserSprite = styled('img')(({\n  isDamaged\n}) => ({\n  width: '100px',\n  height: 'auto',\n  filter: 'drop-shadow(0 8px 16px rgba(0,0,0,0.5))',\n  animation: `${bounce} 2s infinite, ${isDamaged ? `${shake} 0.5s ease-in-out, ${userFlash} 0.5s ease-in-out` : 'none'}`\n}));\n_c7 = UserSprite;\nconst MonsterSprite = styled('img')(({\n  isDamaged\n}) => ({\n  width: '140px',\n  height: 'auto',\n  filter: 'drop-shadow(0 8px 16px rgba(0,0,0,0.5))',\n  animation: `${bounce} 2.3s infinite, ${isDamaged ? `${hit} 0.5s ease-in-out, ${monsterFlash} 0.5s ease-in-out` : 'none'}`\n}));\n_c8 = MonsterSprite;\nconst FLESH_BROWN = '#e6c7b2';\nconst NAME_BG = '#d1a97a';\nconst DialogueBox = styled(Paper)(({\n  theme\n}) => ({\n  position: 'absolute',\n  left: '50%',\n  bottom: 0,\n  transform: 'translateX(-50%)',\n  width: '900px',\n  maxWidth: '90vw',\n  minWidth: '320px',\n  padding: theme.spacing(3, 4),\n  backgroundColor: FLESH_BROWN,\n  color: '#3a2a1a',\n  textAlign: 'left',\n  borderRadius: '18px 18px 0 0',\n  zIndex: 10,\n  boxShadow: '0 -2px 16px 2px rgba(0,0,0,0.18)',\n  border: '3px solid #b48a6e',\n  fontFamily: 'monospace',\n  display: 'flex',\n  flexDirection: 'column',\n  justifyContent: 'space-between',\n  boxSizing: 'border-box'\n}));\n_c9 = DialogueBox;\nconst NameTag = styled(Box)(({\n  theme\n}) => ({\n  position: 'absolute',\n  top: '-22px',\n  left: '18px',\n  background: NAME_BG,\n  color: '#3a2a1a',\n  borderRadius: '16px',\n  padding: '4px 18px',\n  fontWeight: 700,\n  fontSize: '1.1rem',\n  boxShadow: '0 2px 8px #b48a6e44',\n  border: '2px solid #b48a6e',\n  fontFamily: 'monospace',\n  zIndex: 2\n}));\n_c10 = NameTag;\nconst ClickPrompt = styled(Box)(({\n  theme\n}) => ({\n  position: 'absolute',\n  bottom: '16px',\n  right: '32px',\n  color: '#00996b',\n  fontSize: '1.1rem',\n  fontWeight: 700,\n  opacity: 0.85,\n  pointerEvents: 'none',\n  zIndex: 5,\n  fontFamily: 'monospace'\n}));\n_c11 = ClickPrompt;\nconst HeartRow = styled(Box)(({\n  theme\n}) => ({\n  display: 'flex',\n  flexDirection: 'row',\n  alignItems: 'center',\n  gap: '8px',\n  position: 'absolute',\n  top: '24px',\n  left: '32px',\n  zIndex: 20\n}));\n_c12 = HeartRow;\nconst TimerBox = styled(Box)(({\n  theme\n}) => ({\n  background: '#fffbe6',\n  color: '#3a2a1a',\n  borderRadius: '12px',\n  padding: '6px 18px',\n  fontWeight: 700,\n  fontFamily: 'monospace',\n  fontSize: '1.2rem',\n  boxShadow: '0 2px 8px #b48a6e44',\n  border: '2px solid #b48a6e',\n  zIndex: 20,\n  marginLeft: 16\n}));\n_c13 = TimerBox;\nconst VS = styled(Box)(({\n  theme\n}) => ({\n  fontSize: '2.5rem',\n  fontWeight: 900,\n  color: '#fff',\n  textShadow: '0 2px 8px #000',\n  margin: '0 18px',\n  zIndex: 22,\n  pointerEvents: 'none'\n}));\n_c14 = VS;\nconst TopBar = styled(Box)(({\n  theme\n}) => ({\n  width: '100%',\n  display: 'flex',\n  justifyContent: 'space-between',\n  alignItems: 'center',\n  position: 'absolute',\n  top: 0,\n  left: 0,\n  zIndex: 30,\n  padding: '18px 32px'\n}));\n_c15 = TopBar;\nconst BattleSpritesRow = styled(Box)(({\n  theme\n}) => ({\n  width: '100%',\n  display: 'flex',\n  flexDirection: 'row',\n  alignItems: 'flex-end',\n  justifyContent: 'center',\n  marginBottom: '180px',\n  zIndex: 20,\n  pointerEvents: 'none',\n  minHeight: '220px',\n  position: 'relative'\n}));\n_c16 = BattleSpritesRow;\nconst MonsterSpriteWrapper = styled(Box)(({\n  theme\n}) => ({\n  position: 'relative',\n  display: 'flex',\n  flexDirection: 'column',\n  alignItems: 'center',\n  justifyContent: 'flex-end'\n}));\n_c17 = MonsterSpriteWrapper;\nconst BattleBottomBar = styled(Box)(({\n  theme\n}) => ({\n  width: '100vw',\n  background: 'rgba(122,62,46,0.97)',\n  minHeight: '100px',\n  padding: '38px 0 18px 0',\n  display: 'flex',\n  flexDirection: 'column',\n  alignItems: 'center',\n  justifyContent: 'center',\n  zIndex: 30,\n  borderTopLeftRadius: '32px',\n  borderTopRightRadius: '32px',\n  boxShadow: '0 -2px 24px 2px rgba(0,0,0,0.32)',\n  position: 'absolute',\n  left: 0,\n  bottom: 0\n}));\n_c18 = BattleBottomBar;\nconst QuestionText = styled(Typography)(({\n  theme\n}) => ({\n  color: 'white',\n  fontWeight: 600,\n  fontSize: '1.35rem',\n  marginBottom: '22px',\n  textAlign: 'center',\n  textShadow: '0 2px 8px #000'\n}));\n_c19 = QuestionText;\nconst MonsterHPBar = styled(Box)(({\n  theme\n}) => ({\n  position: 'absolute',\n  top: '-30px',\n  left: '50%',\n  transform: 'translateX(-50%)',\n  width: '120px',\n  height: '12px',\n  backgroundColor: '#333',\n  borderRadius: '6px',\n  overflow: 'hidden',\n  border: '2px solid #fff',\n  boxShadow: '0 2px 4px rgba(0,0,0,0.3)'\n}));\n_c20 = MonsterHPBar;\nconst MonsterHPFill = styled(Box)(({\n  hp\n}) => ({\n  width: `${hp}%`,\n  height: '100%',\n  background: 'linear-gradient(90deg, #4caf50 60%, #b2ff59 100%)',\n  transition: 'width 0.4s'\n}));\n_c21 = MonsterHPFill;\nconst MonsterHPText = styled(Typography)(({\n  theme\n}) => ({\n  position: 'absolute',\n  top: '-48px',\n  left: '50%',\n  transform: 'translateX(-50%)',\n  color: '#fff',\n  fontWeight: 700,\n  fontSize: '1rem',\n  textShadow: '0 2px 8px #000',\n  zIndex: 10\n}));\n_c22 = MonsterHPText;\nconst ChoicesGrid = styled(Box)(({\n  theme,\n  count\n}) => ({\n  width: count === 3 ? '700px' : '600px',\n  maxWidth: '95vw',\n  margin: '0 auto',\n  display: 'grid',\n  gridTemplateColumns: count === 3 ? '1fr 1fr 1fr' : '1fr 1fr',\n  gridTemplateRows: count === 3 ? '1fr' : '1fr 1fr',\n  gap: '18px',\n  justifyItems: 'stretch',\n  alignItems: 'stretch',\n  justifyContent: 'center'\n}));\n_c23 = ChoicesGrid;\nconst MoveButton = styled(Button)(({\n  selected\n}) => ({\n  width: '100%',\n  minHeight: '64px',\n  background: '#f8f8f8',\n  color: '#222',\n  fontFamily: 'monospace',\n  fontSize: '1.1rem',\n  border: selected ? '2.5px solid #d32f2f' : '2.5px solid #444',\n  borderRadius: '4px',\n  boxShadow: selected ? '0 0 0 2px #ffbdbd' : '0 0 0 2px #222',\n  outline: selected ? '2px solid #d32f2f' : 'none',\n  textAlign: 'center',\n  whiteSpace: 'normal',\n  wordBreak: 'break-word',\n  display: 'flex',\n  alignItems: 'center',\n  justifyContent: 'center',\n  padding: '8px 12px',\n  transition: 'border 0.1s, box-shadow 0.1s',\n  '&:hover': {\n    border: '2.5px solid #d32f2f',\n    boxShadow: '0 0 0 2px #ffbdbd',\n    background: '#fff3f3'\n  }\n}));\n_c24 = MoveButton;\nconst InputField = styled(TextField)(({\n  theme\n}) => ({\n  width: '100%',\n  maxWidth: '400px',\n  margin: '0 auto',\n  '& .MuiOutlinedInput-root': {\n    backgroundColor: '#fff',\n    fontFamily: 'monospace',\n    fontSize: '1.1rem',\n    '& fieldset': {\n      borderColor: '#444',\n      borderWidth: '2.5px'\n    },\n    '&:hover fieldset': {\n      borderColor: '#d32f2f'\n    },\n    '&.Mui-focused fieldset': {\n      borderColor: '#d32f2f'\n    }\n  }\n}));\n_c25 = InputField;\nconst StarRow = styled(Box)(({\n  theme\n}) => ({\n  display: 'flex',\n  flexDirection: 'row',\n  alignItems: 'center',\n  justifyContent: 'center',\n  marginBottom: 10,\n  marginTop: -10\n}));\n_c26 = StarRow;\nconst Star = styled('span')(({\n  filled\n}) => ({\n  fontSize: '2.2rem',\n  color: filled ? '#FFD700' : '#bdbdbd',\n  filter: filled ? 'drop-shadow(0 2px 6px #b48a6e88)' : 'none',\n  margin: '0 4px',\n  transition: 'color 0.2s'\n}));\n_c27 = Star;\nconst VictoryOverlay = styled(Box)(({\n  theme\n}) => ({\n  position: 'fixed',\n  top: 0,\n  left: 0,\n  width: '100vw',\n  height: '100vh',\n  background: 'rgba(30, 20, 10, 0.55)',\n  zIndex: 1000,\n  display: 'flex',\n  alignItems: 'center',\n  justifyContent: 'center'\n}));\n_c28 = VictoryOverlay;\nconst VictoryContainer = styled(Paper)(({\n  theme\n}) => ({\n  minWidth: 380,\n  maxWidth: '90vw',\n  padding: '48px 36px 36px 36px',\n  borderRadius: 24,\n  background: '#fffbe6',\n  boxShadow: '0 8px 48px 8px #000a',\n  display: 'flex',\n  flexDirection: 'column',\n  alignItems: 'center',\n  zIndex: 1100,\n  border: '4px solid #b48a6e'\n}));\n_c29 = VictoryContainer;\nconst VictoryTitle = styled(Typography)(({\n  theme\n}) => ({\n  fontWeight: 900,\n  fontSize: '2.2rem',\n  color: '#00996b',\n  marginBottom: 18,\n  textShadow: '0 2px 8px #b48a6e44',\n  fontFamily: 'monospace',\n  textAlign: 'center'\n}));\n_c30 = VictoryTitle;\nconst VictoryButton = styled(Button)(({\n  theme\n}) => ({\n  fontWeight: 700,\n  fontFamily: 'monospace',\n  fontSize: '1.1rem',\n  borderRadius: 16,\n  margin: '12px 0',\n  minWidth: 180,\n  boxShadow: '0 2px 8px #b48a6e44'\n}));\n_c31 = VictoryButton;\nconst TIMER_DURATION = 30;\nconst PHASE2_TIMER_DURATION = 10;\nconst MONSTER_MAX_HP = 100;\nconst dialogueSequence = [{\n  speaker: \"Wizard\",\n  text: \"This is it… the Tower of Grammowl. The heart of Jungle Lush and the resting place of the first Scroll of Knowledge.\"\n}, {\n  speaker: \"Wizard\",\n  text: \"He has watched your battles. He knows you're coming. Be ready, adventurer… this will not be like before.\"\n}, {\n  speaker: \"Adventurer\",\n  text: \"I've beaten his underlings. I've walked through webs, swamps, and twisted tenses. Let's finish this.\"\n}, {\n  speaker: \"Grammowl\",\n  text: \"You… child of prophecies and misplaced confidence.\"\n}, {\n  speaker: \"Grammowl\",\n  text: \"Did you enjoy playing with my pets? Did their whimpers delight you as you erased them one by one?\"\n}, {\n  speaker: \"Grammowl\",\n  text: \"They were my voice. My grammar incarnate. And now you've come for my scroll?\"\n}, {\n  speaker: \"Grammowl\",\n  text: \"You may have passed their petty quizzes, but I am the architect of confusion.\"\n}, {\n  speaker: \"Grammowl\",\n  text: \"Come, chosen one. Let's see if your mind can fly as high as your ego.\"\n}];\nconst midBattleDialogue = [{\n  speaker: \"Grammowl\",\n  text: \"Enough!! Enough of these… child's riddles!\"\n}, {\n  speaker: \"Grammowl\",\n  text: \"You dare burn half my feathers? You dare light the flames of grammar in my tower?\"\n}, {\n  speaker: \"Grammowl\",\n  text: \"Let me show you real confusion. Let me strip away your choices. Answer… without a net!\"\n}];\nconst defeatDialogue = [{\n  speaker: \"Grammowl\",\n  text: \"No… how did you… a mere child… bend the rules so flawlessly?\"\n}, {\n  speaker: \"Grammowl\",\n  text: \"The scroll… I guarded it for him… He said no one would come…\"\n}, {\n  speaker: \"Grammowl\",\n  text: \"You've only won a page of the story…\"\n}, {\n  speaker: \"Grammowl\",\n  text: \"He's still watching… waiting in the shadows… and he is far beyond your comprehension!\"\n}, {\n  speaker: \"Grammowl\",\n  text: \"HE… will not be as merciful… *faints\"\n}];\nconst victoryDialogue = [{\n  speaker: \"Adventurer\",\n  text: \"That… that was intense. He almost had me.\"\n}, {\n  speaker: \"Wizard\",\n  text: \"Grammowl… the guardian of the Scroll of Grammar. Once a wise protector, now twisted by the shadows…\"\n}, {\n  speaker: \"Adventurer\",\n  text: \"He said he served someone—'him'. Who is he talking about?\"\n}, {\n  speaker: \"Wizard\",\n  text: \"The one whose name we dare not speak lightly… A force that once slept beneath the ruins of forgotten knowledge. Dysauron.\"\n}, {\n  speaker: \"Adventurer\",\n  text: \"Dysauron? That doesn't sound like your average villain…\"\n}, {\n  speaker: \"Wizard\",\n  text: \"He is the bane of learning, the devourer of words, the shadow that seeks to silence every spark of understanding. Long ago, we locked away his power within the Scrolls of Knowledge…\"\n}, {\n  speaker: \"Adventurer\",\n  text: \"And now they're scattered. One scroll down… four to go.\"\n}, {\n  speaker: \"Wizard\",\n  text: \"You've passed your first true trial, brave one. But what lies ahead will test your wit, will, and wisdom far beyond this.\"\n}, {\n  speaker: \"Adventurer\",\n  text: \"Then I'll keep going. For the villages… for Vocabia.\"\n}, {\n  speaker: \"Wizard\",\n  text: \"Then let the Scroll of Grammar light your path forward. The shores of spelling await.\"\n}];\nconst phase1Questions = [{\n  question: 'Which sentence uses punctuation correctly?',\n  options: ['She said, \"Let\\'s leave now\".', 'She said \"Let\\'s leave now.\"', 'She said, \"Let\\'s leave now\".', 'She said, \"Let\\'s leave now.\"'],\n  correctAnswer: 3\n}, {\n  question: 'Choose the correct subject-verb agreement:',\n  options: ['The data was incorrect.', 'The data were incorrect.', 'The data is incorrect.', 'The data has been incorrect.'],\n  correctAnswer: 1\n}, {\n  question: 'Identify the grammatically correct sentence:',\n  options: ['Neither the teacher nor the students was present.', 'Neither the teacher nor the students were present.', 'Neither the teacher or the students were present.', 'Neither the teacher nor the student were present.'],\n  correctAnswer: 1\n}, {\n  question: 'Where does the semicolon go?',\n  options: ['I have a big test tomorrow; I can\\'t go out tonight.', 'I have a big test; tomorrow I can\\'t go out tonight.', 'I have; a big test tomorrow I can\\'t go out tonight.', 'I have a big test tomorrow, I can\\'t go out tonight.'],\n  correctAnswer: 0\n}, {\n  question: 'Correct sentence with modifiers:',\n  options: ['Running quickly, the finish line was in sight.', 'The finish line was in sight, running quickly.', 'Running quickly, I saw the finish line.', 'I saw the finish line running quickly.'],\n  correctAnswer: 2\n}];\nconst phase2Questions = [{\n  question: 'Fill in the blank with the correct punctuation:\\nShe whispered ___ \"We\\'re not alone.\"',\n  answer: ','\n}, {\n  question: 'What is the correct verb to complete this sentence?\\nThe books on the table ___ new.',\n  answer: 'are'\n}, {\n  question: 'Fix the verb:\\nNeither of them ___ coming.',\n  answer: 'is'\n}, {\n  question: 'Fill in the blank with the correct article:\\n___ apple a day keeps the doctor away.',\n  answer: 'An'\n}, {\n  question: 'Choose the correct word:\\nTheir voices echo in ___ memory.',\n  answer: 'my'\n}];\nconst JungleLushLevel5 = () => {\n  _s();\n  const navigate = useNavigate();\n  const [phase, setPhase] = useState('dialogue');\n  const [dialogueIdx, setDialogueIdx] = useState(0);\n  const [victoryDialogueIdx, setVictoryDialogueIdx] = useState(0);\n  const [hearts, setHearts] = useState(3);\n  const [timeLeft, setTimeLeft] = useState(TIMER_DURATION);\n  const [monsterHP, setMonsterHP] = useState(100);\n  const [currentQuestion, setCurrentQuestion] = useState(0);\n  const [selectedAnswer, setSelectedAnswer] = useState(null);\n  const [userInput, setUserInput] = useState('');\n  const [showResult, setShowResult] = useState(false);\n  const [userDamaged, setUserDamaged] = useState(false);\n  const [monsterDamaged, setMonsterDamaged] = useState(false);\n  const [victory, setVictory] = useState(false);\n  const [gameOver, setGameOver] = useState(false);\n  const [showClickPrompt, setShowClickPrompt] = useState(false);\n  const [showQuit, setShowQuit] = useState(false);\n  const idleTimeout = useRef(null);\n  const [newRecord, setNewRecord] = useState(false);\n  const levelNumber = 5;\n  useEffect(() => {\n    setShowClickPrompt(false);\n    if (idleTimeout.current) clearTimeout(idleTimeout.current);\n    if (phase === 'dialogue' || phase === 'midBattleDialogue' || phase === 'defeatDialogue' || phase === 'victoryDialogue') {\n      idleTimeout.current = setTimeout(() => setShowClickPrompt(true), 2000);\n    }\n    return () => clearTimeout(idleTimeout.current);\n  }, [dialogueIdx, phase]);\n  useEffect(() => {\n    if ((phase === 'battle1' || phase === 'battle2') && timeLeft > 0 && !victory && !gameOver) {\n      const timer = setInterval(() => setTimeLeft(t => t - 1), 1000);\n      return () => clearInterval(timer);\n    } else if ((phase === 'battle1' || phase === 'battle2') && timeLeft === 0 && !victory && !gameOver) {\n      if (hearts > 1) {\n        setHearts(h => h - 1);\n        setTimeLeft(phase === 'battle1' ? TIMER_DURATION : PHASE2_TIMER_DURATION);\n        setSelectedAnswer(null);\n        setUserInput('');\n        setShowResult(false);\n      } else {\n        setHearts(0);\n        setGameOver(true);\n      }\n    }\n  }, [phase, timeLeft, victory, gameOver, hearts]);\n  const handleDialogueClick = () => {\n    setShowClickPrompt(false);\n    if (idleTimeout.current) clearTimeout(idleTimeout.current);\n    if (phase === 'dialogue') {\n      if (dialogueIdx < dialogueSequence.length - 1) {\n        setDialogueIdx(dialogueIdx + 1);\n      } else {\n        setPhase('battle1');\n        setMonsterHP(100);\n        setCurrentQuestion(0);\n        setTimeLeft(TIMER_DURATION);\n      }\n    } else if (phase === 'midBattleDialogue') {\n      if (dialogueIdx < midBattleDialogue.length - 1) {\n        setDialogueIdx(dialogueIdx + 1);\n      } else {\n        setPhase('battle2');\n        setCurrentQuestion(0);\n        setTimeLeft(PHASE2_TIMER_DURATION);\n        setUserInput('');\n      }\n    } else if (phase === 'defeatDialogue') {\n      if (dialogueIdx < defeatDialogue.length - 1) {\n        setDialogueIdx(dialogueIdx + 1);\n      } else {\n        setPhase('victoryDialogue');\n        setVictoryDialogueIdx(0);\n      }\n    } else if (phase === 'victoryDialogue') {\n      if (victoryDialogueIdx < victoryDialogue.length - 1) {\n        setVictoryDialogueIdx(victoryDialogueIdx + 1);\n      } else {\n        setVictory(true);\n      }\n    }\n  };\n  const handleAnswer = idx => {\n    if (phase !== 'battle1') return;\n    setSelectedAnswer(idx);\n    setShowResult(true);\n    if (idx === phase1Questions[currentQuestion].correctAnswer) {\n      setMonsterDamaged(true);\n      setTimeout(() => setMonsterDamaged(false), 500);\n      setMonsterHP(hp => {\n        const newHP = Math.max(0, hp - 20); // 5 hits to defeat in phase 1\n        if (currentQuestion === 4) {\n          setPhase('midBattleDialogue');\n          setDialogueIdx(0);\n        }\n        return newHP;\n      });\n      if (currentQuestion < phase1Questions.length - 1) {\n        setTimeout(() => {\n          setCurrentQuestion(prev => prev + 1);\n          setSelectedAnswer(null);\n          setShowResult(false);\n          setTimeLeft(TIMER_DURATION);\n        }, 600);\n      }\n    } else {\n      setUserDamaged(true);\n      setTimeout(() => setUserDamaged(false), 500);\n      if (hearts > 1) {\n        setTimeout(() => {\n          setHearts(h => h - 1);\n          setSelectedAnswer(null);\n          setShowResult(false);\n          setTimeLeft(TIMER_DURATION);\n        }, 600);\n      } else {\n        setTimeout(() => {\n          setHearts(0);\n          setGameOver(true);\n        }, 600);\n      }\n    }\n  };\n  const handleInputSubmit = e => {\n    if (phase !== 'battle2' || e.key !== 'Enter') return;\n    const answer = userInput.trim().toLowerCase();\n    const correctAnswer = phase2Questions[currentQuestion].answer.toLowerCase();\n    setShowResult(true);\n    if (answer === correctAnswer) {\n      setMonsterDamaged(true);\n      setTimeout(() => setMonsterDamaged(false), 500);\n      setMonsterHP(hp => {\n        const newHP = Math.max(0, hp - 20); // 5 hits to defeat in phase 2\n        if (newHP === 0) {\n          setPhase('defeatDialogue');\n          setDialogueIdx(0);\n        }\n        return newHP;\n      });\n      if (currentQuestion < phase2Questions.length - 1) {\n        setTimeout(() => {\n          setCurrentQuestion(prev => prev + 1);\n          setUserInput('');\n          setShowResult(false);\n          setTimeLeft(PHASE2_TIMER_DURATION);\n        }, 600);\n      }\n    } else {\n      setUserDamaged(true);\n      setTimeout(() => setUserDamaged(false), 500);\n      if (hearts > 1) {\n        setTimeout(() => {\n          setHearts(h => h - 1);\n          setUserInput('');\n          setShowResult(false);\n          setTimeLeft(PHASE2_TIMER_DURATION);\n        }, 600);\n      } else {\n        setTimeout(() => {\n          setHearts(0);\n          setGameOver(true);\n        }, 600);\n      }\n    }\n  };\n  const handleRetryBattle = () => {\n    setHearts(3);\n    setTimeLeft(TIMER_DURATION);\n    setMonsterHP(100);\n    setCurrentQuestion(0);\n    setSelectedAnswer(null);\n    setUserInput('');\n    setShowResult(false);\n    setGameOver(false);\n    setVictory(false);\n    setPhase('battle1');\n  };\n  const handleRetryWholeLevel = () => {\n    setHearts(3);\n    setTimeLeft(TIMER_DURATION);\n    setMonsterHP(100);\n    setCurrentQuestion(0);\n    setSelectedAnswer(null);\n    setUserInput('');\n    setShowResult(false);\n    setGameOver(false);\n    setVictory(false);\n    setPhase('dialogue');\n    setDialogueIdx(0);\n  };\n  useEffect(() => {\n    if (victory) {\n      async function saveProgress() {\n        try {\n          const token = localStorage.getItem('token');\n          await axios.post('/api/progress/levels/5', {\n            starsEarned: hearts,\n            completed: true\n          }, {\n            headers: {\n              Authorization: `Bearer ${token}`\n            },\n            withCredentials: true\n          });\n        } catch (e) {\n          // handle error (optional)\n        }\n      }\n      saveProgress();\n    }\n  }, [victory]);\n  let content = null;\n  if (phase === 'dialogue') {\n    const d = dialogueSequence[dialogueIdx];\n    content = /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(SpritesRow, {\n        children: [/*#__PURE__*/_jsxDEV(WizardUserGroup, {\n          children: [/*#__PURE__*/_jsxDEV(WizardSprite, {\n            src: WIZARD_IMG\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 771,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(UserSprite, {\n            src: USER_IMG\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 772,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 770,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(MonsterGroup, {\n          children: d.speaker === 'Grammowl' && /*#__PURE__*/_jsxDEV(MonsterSprite, {\n            src: GRAMMOWL_IMG\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 775,\n            columnNumber: 42\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 774,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 769,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogueBox, {\n        elevation: 6,\n        onClick: handleDialogueClick,\n        style: {\n          cursor: 'pointer',\n          userSelect: 'none',\n          marginTop: 180\n        },\n        children: [/*#__PURE__*/_jsxDEV(NameTag, {\n          children: d.speaker\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 779,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          gutterBottom: true,\n          style: {\n            marginTop: 18,\n            fontFamily: 'monospace'\n          },\n          children: d.text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 780,\n          columnNumber: 11\n        }, this), showClickPrompt && /*#__PURE__*/_jsxDEV(ClickPrompt, {\n          children: \"Click to continue\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 783,\n          columnNumber: 31\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 778,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  } else if (phase === 'midBattleDialogue') {\n    const d = midBattleDialogue[dialogueIdx];\n    content = /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(SpritesRow, {\n        children: [/*#__PURE__*/_jsxDEV(WizardUserGroup, {\n          children: [/*#__PURE__*/_jsxDEV(WizardSprite, {\n            src: WIZARD_IMG\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 793,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(UserSprite, {\n            src: USER_IMG\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 794,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 792,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(MonsterGroup, {\n          children: /*#__PURE__*/_jsxDEV(MonsterSprite, {\n            src: GRAMMOWL_IMG\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 797,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 796,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 791,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogueBox, {\n        elevation: 6,\n        onClick: handleDialogueClick,\n        style: {\n          cursor: 'pointer',\n          userSelect: 'none',\n          marginTop: 180\n        },\n        children: [/*#__PURE__*/_jsxDEV(NameTag, {\n          children: d.speaker\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 801,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          gutterBottom: true,\n          style: {\n            marginTop: 18,\n            fontFamily: 'monospace'\n          },\n          children: d.text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 802,\n          columnNumber: 11\n        }, this), showClickPrompt && /*#__PURE__*/_jsxDEV(ClickPrompt, {\n          children: \"Click to continue\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 805,\n          columnNumber: 31\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 800,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  } else if (phase === 'defeatDialogue') {\n    const d = defeatDialogue[dialogueIdx];\n    content = /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(SpritesRow, {\n        children: [/*#__PURE__*/_jsxDEV(WizardUserGroup, {\n          children: [/*#__PURE__*/_jsxDEV(WizardSprite, {\n            src: WIZARD_IMG\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 815,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(UserSprite, {\n            src: USER_IMG\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 816,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 814,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(MonsterGroup, {\n          children: /*#__PURE__*/_jsxDEV(MonsterSprite, {\n            src: GRAMMOWL_IMG\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 819,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 818,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 813,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogueBox, {\n        elevation: 6,\n        onClick: handleDialogueClick,\n        style: {\n          cursor: 'pointer',\n          userSelect: 'none',\n          marginTop: 180\n        },\n        children: [/*#__PURE__*/_jsxDEV(NameTag, {\n          children: d.speaker\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 823,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          gutterBottom: true,\n          style: {\n            marginTop: 18,\n            fontFamily: 'monospace'\n          },\n          children: d.text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 824,\n          columnNumber: 11\n        }, this), showClickPrompt && /*#__PURE__*/_jsxDEV(ClickPrompt, {\n          children: \"Click to continue\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 827,\n          columnNumber: 31\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 822,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  } else if (phase === 'victoryDialogue') {\n    const d = victoryDialogue[victoryDialogueIdx];\n    content = /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(SpritesRow, {\n        children: /*#__PURE__*/_jsxDEV(WizardUserGroup, {\n          children: [/*#__PURE__*/_jsxDEV(WizardSprite, {\n            src: WIZARD_IMG\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 837,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(UserSprite, {\n            src: USER_IMG\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 838,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 836,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 835,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogueBox, {\n        elevation: 6,\n        onClick: handleDialogueClick,\n        style: {\n          cursor: 'pointer',\n          userSelect: 'none',\n          marginTop: 180\n        },\n        children: [/*#__PURE__*/_jsxDEV(NameTag, {\n          children: d.speaker\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 842,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          gutterBottom: true,\n          style: {\n            marginTop: 18,\n            fontFamily: 'monospace'\n          },\n          children: d.text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 843,\n          columnNumber: 11\n        }, this), showClickPrompt && /*#__PURE__*/_jsxDEV(ClickPrompt, {\n          children: \"Click to continue\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 846,\n          columnNumber: 31\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 841,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  } else if (phase === 'battle1' || phase === 'battle2') {\n    content = /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(BattleSpritesRow, {\n        children: [/*#__PURE__*/_jsxDEV(UserSprite, {\n          src: USER_IMG,\n          isDamaged: userDamaged\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 854,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(VS, {\n          children: \"VS\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 855,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(MonsterSpriteWrapper, {\n          children: [/*#__PURE__*/_jsxDEV(MonsterHPText, {\n            children: \"Grammowl HP\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 857,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(MonsterHPBar, {\n            children: /*#__PURE__*/_jsxDEV(MonsterHPFill, {\n              hp: monsterHP\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 859,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 858,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(MonsterSprite, {\n            src: GRAMMOWL_IMG,\n            isDamaged: monsterDamaged\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 861,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 856,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 853,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(BattleBottomBar, {\n        children: [/*#__PURE__*/_jsxDEV(QuestionText, {\n          children: phase === 'battle1' ? phase1Questions[currentQuestion].question : phase2Questions[currentQuestion].question\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 865,\n          columnNumber: 11\n        }, this), phase === 'battle1' ? /*#__PURE__*/_jsxDEV(ChoicesGrid, {\n          count: 4,\n          children: phase1Questions[currentQuestion].options.map((option, idx) => /*#__PURE__*/_jsxDEV(MoveButton, {\n            selected: selectedAnswer === idx,\n            onClick: () => handleAnswer(idx),\n            disableRipple: true,\n            style: {\n              fontFamily: 'monospace'\n            },\n            disabled: showResult,\n            children: option\n          }, idx, false, {\n            fileName: _jsxFileName,\n            lineNumber: 871,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 869,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(InputField, {\n          value: userInput,\n          onChange: e => setUserInput(e.target.value),\n          onKeyPress: handleInputSubmit,\n          placeholder: \"Type your answer...\",\n          disabled: showResult,\n          autoFocus: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 884,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 864,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n  return /*#__PURE__*/_jsxDEV(SceneContainer, {\n    children: [/*#__PURE__*/_jsxDEV(Ground, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 900,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TopBar, {\n      children: [phase === 'battle1' || phase === 'battle2' ? /*#__PURE__*/_jsxDEV(HeartRow, {\n        children: [...Array(3)].map((_, idx) => /*#__PURE__*/_jsxDEV(\"img\", {\n          src: HEART_IMG,\n          alt: \"Heart\",\n          style: {\n            width: 40,\n            height: 40,\n            opacity: idx < hearts ? 1 : 0.3\n          }\n        }, idx, false, {\n          fileName: _jsxFileName,\n          lineNumber: 905,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 903,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 908,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          flex: 1\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 909,\n        columnNumber: 9\n      }, this), phase === 'battle1' || phase === 'battle2' ? /*#__PURE__*/_jsxDEV(TimerBox, {\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          style: {\n            fontWeight: 700,\n            fontSize: '1.1rem',\n            fontFamily: 'monospace'\n          },\n          children: \"TIMER\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 912,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          style: {\n            fontWeight: 700,\n            fontSize: '1.1rem',\n            fontFamily: 'monospace'\n          },\n          children: [timeLeft, \"s\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 913,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 911,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: 90\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 915,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        color: \"error\",\n        onClick: () => setShowQuit(true),\n        startIcon: /*#__PURE__*/_jsxDEV(CloseIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 916,\n          columnNumber: 96\n        }, this),\n        style: {\n          fontWeight: 700,\n          fontFamily: 'monospace',\n          borderRadius: 18,\n          marginLeft: 16\n        },\n        children: \"Quit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 916,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 901,\n      columnNumber: 7\n    }, this), content, /*#__PURE__*/_jsxDEV(Dialog, {\n      open: showQuit,\n      onClose: () => setShowQuit(false),\n      children: [/*#__PURE__*/_jsxDEV(DialogContent, {\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          align: \"center\",\n          children: \"Are you sure you want to quit?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 923,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 922,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => setShowQuit(false),\n          color: \"primary\",\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 926,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => navigate('/jungle-lush'),\n          color: \"error\",\n          children: \"Quit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 927,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 925,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 921,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: gameOver && hearts === 0,\n      onClose: () => {},\n      children: [/*#__PURE__*/_jsxDEV(DialogContent, {\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h5\",\n          align: \"center\",\n          children: \"Game Over! Try again?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 932,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 931,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleRetryBattle,\n          color: \"primary\",\n          children: \"Retry\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 935,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => navigate('/jungle-lush'),\n          color: \"error\",\n          children: \"Quit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 936,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 934,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 930,\n      columnNumber: 7\n    }, this), victory && /*#__PURE__*/_jsxDEV(VictoryOverlay, {\n      children: /*#__PURE__*/_jsxDEV(VictoryContainer, {\n        elevation: 12,\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          style: {\n            color: '#3a2a1a',\n            fontFamily: 'monospace',\n            fontWeight: 700,\n            fontSize: '1.1rem',\n            marginBottom: 2,\n            textAlign: 'center',\n            letterSpacing: 1\n          },\n          children: \"Battle Rating\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 942,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(StarRow, {\n          children: [1, 2, 3].map(i => /*#__PURE__*/_jsxDEV(Star, {\n            filled: hearts >= i,\n            style: newRecord && hearts >= i ? {\n              animation: 'popIn 0.5s'\n            } : {},\n            children: \"\\u2605\"\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 945,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 943,\n          columnNumber: 13\n        }, this), newRecord && /*#__PURE__*/_jsxDEV(Typography, {\n          style: {\n            color: '#d32f2f',\n            fontWeight: 900,\n            fontFamily: 'monospace',\n            fontSize: '1.3rem',\n            marginBottom: 8,\n            textAlign: 'center',\n            letterSpacing: 1,\n            animation: 'popIn 0.7s'\n          },\n          children: \"New Record!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 951,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(VictoryTitle, {\n          children: [\"Victory!\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 955,\n            columnNumber: 35\n          }, this), \"You've obtained the Scroll of Grammar!\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 955,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          style: {\n            color: '#3a2a1a',\n            fontFamily: 'monospace',\n            marginBottom: 24,\n            fontSize: '1.1rem',\n            textAlign: 'center'\n          },\n          children: \"The first spark of knowledge is yours.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 956,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(VictoryButton, {\n          variant: \"contained\",\n          color: \"success\",\n          onClick: () => navigate('/jungle-lush'),\n          children: \"Return to Level Select\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 959,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(VictoryButton, {\n          variant: \"outlined\",\n          color: \"primary\",\n          onClick: handleRetryWholeLevel,\n          children: \"Retry Level\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 960,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(VictoryButton, {\n          variant: \"outlined\",\n          color: \"error\",\n          onClick: () => navigate('/jungle-lush'),\n          children: \"Quit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 961,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 941,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 940,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"jl-return-btn\",\n      style: {\n        marginTop: 32\n      },\n      onClick: () => navigate('/jungle-lush'),\n      children: \"Return to Jungle Lush\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 965,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 899,\n    columnNumber: 5\n  }, this);\n};\n_s(JungleLushLevel5, \"YHIRMARqXETGD/zy0LMIpFFP/9w=\", false, function () {\n  return [useNavigate];\n});\n_c32 = JungleLushLevel5;\nexport default JungleLushLevel5;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12, _c13, _c14, _c15, _c16, _c17, _c18, _c19, _c20, _c21, _c22, _c23, _c24, _c25, _c26, _c27, _c28, _c29, _c30, _c31, _c32;\n$RefreshReg$(_c, \"SceneContainer\");\n$RefreshReg$(_c2, \"Ground\");\n$RefreshReg$(_c3, \"SpritesRow\");\n$RefreshReg$(_c4, \"WizardUserGroup\");\n$RefreshReg$(_c5, \"MonsterGroup\");\n$RefreshReg$(_c6, \"WizardSprite\");\n$RefreshReg$(_c7, \"UserSprite\");\n$RefreshReg$(_c8, \"MonsterSprite\");\n$RefreshReg$(_c9, \"DialogueBox\");\n$RefreshReg$(_c10, \"NameTag\");\n$RefreshReg$(_c11, \"ClickPrompt\");\n$RefreshReg$(_c12, \"HeartRow\");\n$RefreshReg$(_c13, \"TimerBox\");\n$RefreshReg$(_c14, \"VS\");\n$RefreshReg$(_c15, \"TopBar\");\n$RefreshReg$(_c16, \"BattleSpritesRow\");\n$RefreshReg$(_c17, \"MonsterSpriteWrapper\");\n$RefreshReg$(_c18, \"BattleBottomBar\");\n$RefreshReg$(_c19, \"QuestionText\");\n$RefreshReg$(_c20, \"MonsterHPBar\");\n$RefreshReg$(_c21, \"MonsterHPFill\");\n$RefreshReg$(_c22, \"MonsterHPText\");\n$RefreshReg$(_c23, \"ChoicesGrid\");\n$RefreshReg$(_c24, \"MoveButton\");\n$RefreshReg$(_c25, \"InputField\");\n$RefreshReg$(_c26, \"StarRow\");\n$RefreshReg$(_c27, \"Star\");\n$RefreshReg$(_c28, \"VictoryOverlay\");\n$RefreshReg$(_c29, \"VictoryContainer\");\n$RefreshReg$(_c30, \"VictoryTitle\");\n$RefreshReg$(_c31, \"VictoryButton\");\n$RefreshReg$(_c32, \"JungleLushLevel5\");","map":{"version":3,"names":["React","useState","useRef","useEffect","Box","Typography","Button","Paper","Grid","CircularProgress","Dialog","DialogActions","DialogContent","TextField","useNavigate","styled","keyframes","CloseIcon","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","TOWER_BG","WIZARD_IMG","USER_IMG","GRAMMOWL_IMG","SCROLL_IMG","HEART_IMG","bounce","shake","hit","userFlash","monsterFlash","SceneContainer","theme","width","height","display","flexDirection","alignItems","justifyContent","backgroundImage","backgroundSize","backgroundPosition","position","overflow","_c","Ground","left","bottom","background","zIndex","borderTopLeftRadius","borderTopRightRadius","boxShadow","_c2","SpritesRow","maxWidth","transform","pointerEvents","_c3","WizardUserGroup","gap","_c4","MonsterGroup","right","_c5","WizardSprite","filter","animation","_c6","UserSprite","isDamaged","_c7","MonsterSprite","_c8","FLESH_BROWN","NAME_BG","DialogueBox","minWidth","padding","spacing","backgroundColor","color","textAlign","borderRadius","border","fontFamily","boxSizing","_c9","NameTag","top","fontWeight","fontSize","_c10","ClickPrompt","opacity","_c11","HeartRow","_c12","TimerBox","marginLeft","_c13","VS","textShadow","margin","_c14","TopBar","_c15","BattleSpritesRow","marginBottom","minHeight","_c16","MonsterSpriteWrapper","_c17","BattleBottomBar","_c18","QuestionText","_c19","MonsterHPBar","_c20","MonsterHPFill","hp","transition","_c21","MonsterHPText","_c22","ChoicesGrid","count","gridTemplateColumns","gridTemplateRows","justifyItems","_c23","MoveButton","selected","outline","whiteSpace","wordBreak","_c24","InputField","borderColor","borderWidth","_c25","StarRow","marginTop","_c26","Star","filled","_c27","VictoryOverlay","_c28","VictoryContainer","_c29","VictoryTitle","_c30","VictoryButton","_c31","TIMER_DURATION","PHASE2_TIMER_DURATION","MONSTER_MAX_HP","dialogueSequence","speaker","text","midBattleDialogue","defeatDialogue","victoryDialogue","phase1Questions","question","options","correctAnswer","phase2Questions","answer","JungleLushLevel5","_s","navigate","phase","setPhase","dialogueIdx","setDialogueIdx","victoryDialogueIdx","setVictoryDialogueIdx","hearts","setHearts","timeLeft","setTimeLeft","monsterHP","setMonsterHP","currentQuestion","setCurrentQuestion","selectedAnswer","setSelectedAnswer","userInput","setUserInput","showResult","setShowResult","userDamaged","setUserDamaged","monsterDamaged","setMonsterDamaged","victory","setVictory","gameOver","setGameOver","showClickPrompt","setShowClickPrompt","showQuit","setShowQuit","idleTimeout","newRecord","setNewRecord","levelNumber","current","clearTimeout","setTimeout","timer","setInterval","t","clearInterval","h","handleDialogueClick","length","handleAnswer","idx","newHP","Math","max","prev","handleInputSubmit","e","key","trim","toLowerCase","handleRetryBattle","handleRetryWholeLevel","saveProgress","token","localStorage","getItem","post","starsEarned","completed","headers","Authorization","withCredentials","content","d","children","src","fileName","_jsxFileName","lineNumber","columnNumber","elevation","onClick","style","cursor","userSelect","variant","gutterBottom","map","option","disableRipple","disabled","value","onChange","target","onKeyPress","placeholder","autoFocus","Array","_","alt","flex","startIcon","open","onClose","align","letterSpacing","i","className","_c32","$RefreshReg$"],"sources":["C:/Users/Jake/Desktop/VocabVenture/Vocabventure/frontend/src/pages/Game/JungleLushLevel5.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport { Box, Typography, Button, Paper, Grid, CircularProgress, Dialog, DialogActions, DialogContent, TextField } from '@mui/material';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { styled, keyframes } from '@mui/material/styles';\r\nimport '../../styles/MapView.css';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport axios from 'axios';\r\n\r\nconst TOWER_BG = 'https://static.wikia.nocookie.net/hollowknight/images/9/9d/Soul_Master_Phase_2.png/revision/latest/scale-to-width-down/1000?cb=20200722140029';\r\nconst WIZARD_IMG = 'https://www.shutterstock.com/image-vector/pixel-art-wizard-long-beard-260nw-2544146115.jpg';\r\nconst USER_IMG = 'https://w7.pngwing.com/pngs/928/303/png-transparent-pixel-dodgers-pixel-art-sprite-text-cartoon-fictional-character.png';\r\nconst GRAMMOWL_IMG = 'https://pics.craiyon.com/2023-09-03/961fec15ab014817b35778ba0c789a44.webp';\r\nconst SCROLL_IMG = 'https://i.pinimg.com/736x/f8/93/cb/f893cb2962a5ec989290081903561047.jpg';\r\nconst HEART_IMG = 'https://p7.hiclipart.com/preview/28/266/352/pixel-art-heart-8-bit-color-heart-thumbnail.jpg';\r\n\r\nconst bounce = keyframes`\r\n  0%, 100% { transform: translateY(0); }\r\n  50% { transform: translateY(-10px); }\r\n`;\r\nconst shake = keyframes`\r\n  0%, 100% { transform: translateX(0); }\r\n  25% { transform: translateX(-8px); }\r\n  75% { transform: translateX(8px); }\r\n`;\r\nconst hit = keyframes`\r\n  0% { transform: scale(1); }\r\n  25% { transform: scale(1.1); }\r\n  50% { transform: scale(0.9); }\r\n  75% { transform: scale(1.05); }\r\n  100% { transform: scale(1); }\r\n`;\r\nconst userFlash = keyframes`\r\n  0%, 100% { opacity: 1; filter: brightness(1); }\r\n  50% { opacity: 0.7; filter: brightness(1.2) sepia(1) saturate(10000%) hue-rotate(-50deg); }\r\n`;\r\nconst monsterFlash = keyframes`\r\n  0%, 100% { opacity: 1; filter: brightness(1); }\r\n  50% { opacity: 0.7; filter: brightness(1.2) sepia(1) saturate(10000%) hue-rotate(180deg); }\r\n`;\r\n\r\nconst SceneContainer = styled(Box)(({ theme }) => ({\r\n  width: '100%',\r\n  height: '100vh',\r\n  display: 'flex',\r\n  flexDirection: 'column',\r\n  alignItems: 'center',\r\n  justifyContent: 'flex-end',\r\n  backgroundImage: `url(${TOWER_BG})`,\r\n  backgroundSize: 'cover',\r\n  backgroundPosition: 'center',\r\n  position: 'relative',\r\n  overflow: 'hidden',\r\n}));\r\n\r\nconst Ground = styled(Box)(({ theme }) => ({\r\n  position: 'absolute',\r\n  left: 0,\r\n  bottom: '90px',\r\n  width: '100%',\r\n  height: '40px',\r\n  background: 'linear-gradient(to top, #3e2e1a 80%, rgba(62,46,26,0.2) 100%)',\r\n  zIndex: 2,\r\n  borderTopLeftRadius: '30px',\r\n  borderTopRightRadius: '30px',\r\n  boxShadow: '0 0 16px 2px rgba(0,0,0,0.25)',\r\n}));\r\n\r\nconst SpritesRow = styled(Box)(({ theme }) => ({\r\n  width: '900px',\r\n  maxWidth: '90vw',\r\n  position: 'absolute',\r\n  left: '50%',\r\n  transform: 'translateX(-50%)',\r\n  bottom: '130px',\r\n  height: '160px',\r\n  zIndex: 3,\r\n  pointerEvents: 'none',\r\n}));\r\n\r\nconst WizardUserGroup = styled(Box)(({ theme }) => ({\r\n  position: 'absolute',\r\n  left: 0,\r\n  bottom: 0,\r\n  display: 'flex',\r\n  flexDirection: 'row',\r\n  alignItems: 'flex-end',\r\n  gap: '24px',\r\n}));\r\n\r\nconst MonsterGroup = styled(Box)(({ theme }) => ({\r\n  position: 'absolute',\r\n  right: 0,\r\n  bottom: 0,\r\n  display: 'flex',\r\n  flexDirection: 'row',\r\n  alignItems: 'flex-end',\r\n  gap: '32px',\r\n}));\r\n\r\nconst WizardSprite = styled('img')({\r\n  width: '120px',\r\n  height: 'auto',\r\n  filter: 'drop-shadow(0 8px 16px rgba(0,0,0,0.5))',\r\n  animation: `${bounce} 2.2s infinite`,\r\n});\r\n\r\nconst UserSprite = styled('img')(({ isDamaged }) => ({\r\n  width: '100px',\r\n  height: 'auto',\r\n  filter: 'drop-shadow(0 8px 16px rgba(0,0,0,0.5))',\r\n  animation: `${bounce} 2s infinite, ${isDamaged ? `${shake} 0.5s ease-in-out, ${userFlash} 0.5s ease-in-out` : 'none'}`,\r\n}));\r\n\r\nconst MonsterSprite = styled('img')(({ isDamaged }) => ({\r\n  width: '140px',\r\n  height: 'auto',\r\n  filter: 'drop-shadow(0 8px 16px rgba(0,0,0,0.5))',\r\n  animation: `${bounce} 2.3s infinite, ${isDamaged ? `${hit} 0.5s ease-in-out, ${monsterFlash} 0.5s ease-in-out` : 'none'}`,\r\n}));\r\n\r\nconst FLESH_BROWN = '#e6c7b2';\r\nconst NAME_BG = '#d1a97a';\r\n\r\nconst DialogueBox = styled(Paper)(({ theme }) => ({\r\n  position: 'absolute',\r\n  left: '50%',\r\n  bottom: 0,\r\n  transform: 'translateX(-50%)',\r\n  width: '900px',\r\n  maxWidth: '90vw',\r\n  minWidth: '320px',\r\n  padding: theme.spacing(3, 4),\r\n  backgroundColor: FLESH_BROWN,\r\n  color: '#3a2a1a',\r\n  textAlign: 'left',\r\n  borderRadius: '18px 18px 0 0',\r\n  zIndex: 10,\r\n  boxShadow: '0 -2px 16px 2px rgba(0,0,0,0.18)',\r\n  border: '3px solid #b48a6e',\r\n  fontFamily: 'monospace',\r\n  display: 'flex',\r\n  flexDirection: 'column',\r\n  justifyContent: 'space-between',\r\n  boxSizing: 'border-box',\r\n}));\r\n\r\nconst NameTag = styled(Box)(({ theme }) => ({\r\n  position: 'absolute',\r\n  top: '-22px',\r\n  left: '18px',\r\n  background: NAME_BG,\r\n  color: '#3a2a1a',\r\n  borderRadius: '16px',\r\n  padding: '4px 18px',\r\n  fontWeight: 700,\r\n  fontSize: '1.1rem',\r\n  boxShadow: '0 2px 8px #b48a6e44',\r\n  border: '2px solid #b48a6e',\r\n  fontFamily: 'monospace',\r\n  zIndex: 2,\r\n}));\r\n\r\nconst ClickPrompt = styled(Box)(({ theme }) => ({\r\n  position: 'absolute',\r\n  bottom: '16px',\r\n  right: '32px',\r\n  color: '#00996b',\r\n  fontSize: '1.1rem',\r\n  fontWeight: 700,\r\n  opacity: 0.85,\r\n  pointerEvents: 'none',\r\n  zIndex: 5,\r\n  fontFamily: 'monospace',\r\n}));\r\n\r\nconst HeartRow = styled(Box)(({ theme }) => ({\r\n  display: 'flex',\r\n  flexDirection: 'row',\r\n  alignItems: 'center',\r\n  gap: '8px',\r\n  position: 'absolute',\r\n  top: '24px',\r\n  left: '32px',\r\n  zIndex: 20,\r\n}));\r\n\r\nconst TimerBox = styled(Box)(({ theme }) => ({\r\n  background: '#fffbe6',\r\n  color: '#3a2a1a',\r\n  borderRadius: '12px',\r\n  padding: '6px 18px',\r\n  fontWeight: 700,\r\n  fontFamily: 'monospace',\r\n  fontSize: '1.2rem',\r\n  boxShadow: '0 2px 8px #b48a6e44',\r\n  border: '2px solid #b48a6e',\r\n  zIndex: 20,\r\n  marginLeft: 16,\r\n}));\r\n\r\nconst VS = styled(Box)(({ theme }) => ({\r\n  fontSize: '2.5rem',\r\n  fontWeight: 900,\r\n  color: '#fff',\r\n  textShadow: '0 2px 8px #000',\r\n  margin: '0 18px',\r\n  zIndex: 22,\r\n  pointerEvents: 'none',\r\n}));\r\n\r\nconst TopBar = styled(Box)(({ theme }) => ({\r\n  width: '100%',\r\n  display: 'flex',\r\n  justifyContent: 'space-between',\r\n  alignItems: 'center',\r\n  position: 'absolute',\r\n  top: 0,\r\n  left: 0,\r\n  zIndex: 30,\r\n  padding: '18px 32px',\r\n}));\r\n\r\nconst BattleSpritesRow = styled(Box)(({ theme }) => ({\r\n  width: '100%',\r\n  display: 'flex',\r\n  flexDirection: 'row',\r\n  alignItems: 'flex-end',\r\n  justifyContent: 'center',\r\n  marginBottom: '180px',\r\n  zIndex: 20,\r\n  pointerEvents: 'none',\r\n  minHeight: '220px',\r\n  position: 'relative',\r\n}));\r\n\r\nconst MonsterSpriteWrapper = styled(Box)(({ theme }) => ({\r\n  position: 'relative',\r\n  display: 'flex',\r\n  flexDirection: 'column',\r\n  alignItems: 'center',\r\n  justifyContent: 'flex-end',\r\n}));\r\n\r\nconst BattleBottomBar = styled(Box)(({ theme }) => ({\r\n  width: '100vw',\r\n  background: 'rgba(122,62,46,0.97)',\r\n  minHeight: '100px',\r\n  padding: '38px 0 18px 0',\r\n  display: 'flex',\r\n  flexDirection: 'column',\r\n  alignItems: 'center',\r\n  justifyContent: 'center',\r\n  zIndex: 30,\r\n  borderTopLeftRadius: '32px',\r\n  borderTopRightRadius: '32px',\r\n  boxShadow: '0 -2px 24px 2px rgba(0,0,0,0.32)',\r\n  position: 'absolute',\r\n  left: 0,\r\n  bottom: 0,\r\n}));\r\n\r\nconst QuestionText = styled(Typography)(({ theme }) => ({\r\n  color: 'white',\r\n  fontWeight: 600,\r\n  fontSize: '1.35rem',\r\n  marginBottom: '22px',\r\n  textAlign: 'center',\r\n  textShadow: '0 2px 8px #000',\r\n}));\r\n\r\nconst MonsterHPBar = styled(Box)(({ theme }) => ({\r\n  position: 'absolute',\r\n  top: '-30px',\r\n  left: '50%',\r\n  transform: 'translateX(-50%)',\r\n  width: '120px',\r\n  height: '12px',\r\n  backgroundColor: '#333',\r\n  borderRadius: '6px',\r\n  overflow: 'hidden',\r\n  border: '2px solid #fff',\r\n  boxShadow: '0 2px 4px rgba(0,0,0,0.3)',\r\n}));\r\n\r\nconst MonsterHPFill = styled(Box)(({ hp }) => ({\r\n  width: `${hp}%`,\r\n  height: '100%',\r\n  background: 'linear-gradient(90deg, #4caf50 60%, #b2ff59 100%)',\r\n  transition: 'width 0.4s',\r\n}));\r\n\r\nconst MonsterHPText = styled(Typography)(({ theme }) => ({\r\n  position: 'absolute',\r\n  top: '-48px',\r\n  left: '50%',\r\n  transform: 'translateX(-50%)',\r\n  color: '#fff',\r\n  fontWeight: 700,\r\n  fontSize: '1rem',\r\n  textShadow: '0 2px 8px #000',\r\n  zIndex: 10,\r\n}));\r\n\r\nconst ChoicesGrid = styled(Box)(({ theme, count }) => ({\r\n  width: count === 3 ? '700px' : '600px',\r\n  maxWidth: '95vw',\r\n  margin: '0 auto',\r\n  display: 'grid',\r\n  gridTemplateColumns: count === 3 ? '1fr 1fr 1fr' : '1fr 1fr',\r\n  gridTemplateRows: count === 3 ? '1fr' : '1fr 1fr',\r\n  gap: '18px',\r\n  justifyItems: 'stretch',\r\n  alignItems: 'stretch',\r\n  justifyContent: 'center',\r\n}));\r\n\r\nconst MoveButton = styled(Button)(({ selected }) => ({\r\n  width: '100%',\r\n  minHeight: '64px',\r\n  background: '#f8f8f8',\r\n  color: '#222',\r\n  fontFamily: 'monospace',\r\n  fontSize: '1.1rem',\r\n  border: selected ? '2.5px solid #d32f2f' : '2.5px solid #444',\r\n  borderRadius: '4px',\r\n  boxShadow: selected ? '0 0 0 2px #ffbdbd' : '0 0 0 2px #222',\r\n  outline: selected ? '2px solid #d32f2f' : 'none',\r\n  textAlign: 'center',\r\n  whiteSpace: 'normal',\r\n  wordBreak: 'break-word',\r\n  display: 'flex',\r\n  alignItems: 'center',\r\n  justifyContent: 'center',\r\n  padding: '8px 12px',\r\n  transition: 'border 0.1s, box-shadow 0.1s',\r\n  '&:hover': {\r\n    border: '2.5px solid #d32f2f',\r\n    boxShadow: '0 0 0 2px #ffbdbd',\r\n    background: '#fff3f3',\r\n  },\r\n}));\r\n\r\nconst InputField = styled(TextField)(({ theme }) => ({\r\n  width: '100%',\r\n  maxWidth: '400px',\r\n  margin: '0 auto',\r\n  '& .MuiOutlinedInput-root': {\r\n    backgroundColor: '#fff',\r\n    fontFamily: 'monospace',\r\n    fontSize: '1.1rem',\r\n    '& fieldset': {\r\n      borderColor: '#444',\r\n      borderWidth: '2.5px',\r\n    },\r\n    '&:hover fieldset': {\r\n      borderColor: '#d32f2f',\r\n    },\r\n    '&.Mui-focused fieldset': {\r\n      borderColor: '#d32f2f',\r\n    },\r\n  },\r\n}));\r\n\r\nconst StarRow = styled(Box)(({ theme }) => ({\r\n  display: 'flex',\r\n  flexDirection: 'row',\r\n  alignItems: 'center',\r\n  justifyContent: 'center',\r\n  marginBottom: 10,\r\n  marginTop: -10,\r\n}));\r\n\r\nconst Star = styled('span')(({ filled }) => ({\r\n  fontSize: '2.2rem',\r\n  color: filled ? '#FFD700' : '#bdbdbd',\r\n  filter: filled ? 'drop-shadow(0 2px 6px #b48a6e88)' : 'none',\r\n  margin: '0 4px',\r\n  transition: 'color 0.2s',\r\n}));\r\n\r\nconst VictoryOverlay = styled(Box)(({ theme }) => ({\r\n  position: 'fixed',\r\n  top: 0,\r\n  left: 0,\r\n  width: '100vw',\r\n  height: '100vh',\r\n  background: 'rgba(30, 20, 10, 0.55)',\r\n  zIndex: 1000,\r\n  display: 'flex',\r\n  alignItems: 'center',\r\n  justifyContent: 'center',\r\n}));\r\n\r\nconst VictoryContainer = styled(Paper)(({ theme }) => ({\r\n  minWidth: 380,\r\n  maxWidth: '90vw',\r\n  padding: '48px 36px 36px 36px',\r\n  borderRadius: 24,\r\n  background: '#fffbe6',\r\n  boxShadow: '0 8px 48px 8px #000a',\r\n  display: 'flex',\r\n  flexDirection: 'column',\r\n  alignItems: 'center',\r\n  zIndex: 1100,\r\n  border: '4px solid #b48a6e',\r\n}));\r\n\r\nconst VictoryTitle = styled(Typography)(({ theme }) => ({\r\n  fontWeight: 900,\r\n  fontSize: '2.2rem',\r\n  color: '#00996b',\r\n  marginBottom: 18,\r\n  textShadow: '0 2px 8px #b48a6e44',\r\n  fontFamily: 'monospace',\r\n  textAlign: 'center',\r\n}));\r\n\r\nconst VictoryButton = styled(Button)(({ theme }) => ({\r\n  fontWeight: 700,\r\n  fontFamily: 'monospace',\r\n  fontSize: '1.1rem',\r\n  borderRadius: 16,\r\n  margin: '12px 0',\r\n  minWidth: 180,\r\n  boxShadow: '0 2px 8px #b48a6e44',\r\n}));\r\n\r\nconst TIMER_DURATION = 30;\r\nconst PHASE2_TIMER_DURATION = 10;\r\nconst MONSTER_MAX_HP = 100;\r\n\r\nconst dialogueSequence = [\r\n  { speaker: \"Wizard\", text: \"This is it… the Tower of Grammowl. The heart of Jungle Lush and the resting place of the first Scroll of Knowledge.\" },\r\n  { speaker: \"Wizard\", text: \"He has watched your battles. He knows you're coming. Be ready, adventurer… this will not be like before.\" },\r\n  { speaker: \"Adventurer\", text: \"I've beaten his underlings. I've walked through webs, swamps, and twisted tenses. Let's finish this.\" },\r\n  { speaker: \"Grammowl\", text: \"You… child of prophecies and misplaced confidence.\" },\r\n  { speaker: \"Grammowl\", text: \"Did you enjoy playing with my pets? Did their whimpers delight you as you erased them one by one?\" },\r\n  { speaker: \"Grammowl\", text: \"They were my voice. My grammar incarnate. And now you've come for my scroll?\" },\r\n  { speaker: \"Grammowl\", text: \"You may have passed their petty quizzes, but I am the architect of confusion.\" },\r\n  { speaker: \"Grammowl\", text: \"Come, chosen one. Let's see if your mind can fly as high as your ego.\" }\r\n];\r\n\r\nconst midBattleDialogue = [\r\n  { speaker: \"Grammowl\", text: \"Enough!! Enough of these… child's riddles!\" },\r\n  { speaker: \"Grammowl\", text: \"You dare burn half my feathers? You dare light the flames of grammar in my tower?\" },\r\n  { speaker: \"Grammowl\", text: \"Let me show you real confusion. Let me strip away your choices. Answer… without a net!\" }\r\n];\r\n\r\nconst defeatDialogue = [\r\n  { speaker: \"Grammowl\", text: \"No… how did you… a mere child… bend the rules so flawlessly?\" },\r\n  { speaker: \"Grammowl\", text: \"The scroll… I guarded it for him… He said no one would come…\" },\r\n  { speaker: \"Grammowl\", text: \"You've only won a page of the story…\" },\r\n  { speaker: \"Grammowl\", text: \"He's still watching… waiting in the shadows… and he is far beyond your comprehension!\" },\r\n  { speaker: \"Grammowl\", text: \"HE… will not be as merciful… *faints\" }\r\n];\r\n\r\nconst victoryDialogue = [\r\n  { speaker: \"Adventurer\", text: \"That… that was intense. He almost had me.\" },\r\n  { speaker: \"Wizard\", text: \"Grammowl… the guardian of the Scroll of Grammar. Once a wise protector, now twisted by the shadows…\" },\r\n  { speaker: \"Adventurer\", text: \"He said he served someone—'him'. Who is he talking about?\" },\r\n  { speaker: \"Wizard\", text: \"The one whose name we dare not speak lightly… A force that once slept beneath the ruins of forgotten knowledge. Dysauron.\" },\r\n  { speaker: \"Adventurer\", text: \"Dysauron? That doesn't sound like your average villain…\" },\r\n  { speaker: \"Wizard\", text: \"He is the bane of learning, the devourer of words, the shadow that seeks to silence every spark of understanding. Long ago, we locked away his power within the Scrolls of Knowledge…\" },\r\n  { speaker: \"Adventurer\", text: \"And now they're scattered. One scroll down… four to go.\" },\r\n  { speaker: \"Wizard\", text: \"You've passed your first true trial, brave one. But what lies ahead will test your wit, will, and wisdom far beyond this.\" },\r\n  { speaker: \"Adventurer\", text: \"Then I'll keep going. For the villages… for Vocabia.\" },\r\n  { speaker: \"Wizard\", text: \"Then let the Scroll of Grammar light your path forward. The shores of spelling await.\" }\r\n];\r\n\r\nconst phase1Questions = [\r\n  {\r\n    question: 'Which sentence uses punctuation correctly?',\r\n    options: [\r\n      'She said, \"Let\\'s leave now\".',\r\n      'She said \"Let\\'s leave now.\"',\r\n      'She said, \"Let\\'s leave now\".',\r\n      'She said, \"Let\\'s leave now.\"'\r\n    ],\r\n    correctAnswer: 3\r\n  },\r\n  {\r\n    question: 'Choose the correct subject-verb agreement:',\r\n    options: [\r\n      'The data was incorrect.',\r\n      'The data were incorrect.',\r\n      'The data is incorrect.',\r\n      'The data has been incorrect.'\r\n    ],\r\n    correctAnswer: 1\r\n  },\r\n  {\r\n    question: 'Identify the grammatically correct sentence:',\r\n    options: [\r\n      'Neither the teacher nor the students was present.',\r\n      'Neither the teacher nor the students were present.',\r\n      'Neither the teacher or the students were present.',\r\n      'Neither the teacher nor the student were present.'\r\n    ],\r\n    correctAnswer: 1\r\n  },\r\n  {\r\n    question: 'Where does the semicolon go?',\r\n    options: [\r\n      'I have a big test tomorrow; I can\\'t go out tonight.',\r\n      'I have a big test; tomorrow I can\\'t go out tonight.',\r\n      'I have; a big test tomorrow I can\\'t go out tonight.',\r\n      'I have a big test tomorrow, I can\\'t go out tonight.'\r\n    ],\r\n    correctAnswer: 0\r\n  },\r\n  {\r\n    question: 'Correct sentence with modifiers:',\r\n    options: [\r\n      'Running quickly, the finish line was in sight.',\r\n      'The finish line was in sight, running quickly.',\r\n      'Running quickly, I saw the finish line.',\r\n      'I saw the finish line running quickly.'\r\n    ],\r\n    correctAnswer: 2\r\n  }\r\n];\r\n\r\nconst phase2Questions = [\r\n  {\r\n    question: 'Fill in the blank with the correct punctuation:\\nShe whispered ___ \"We\\'re not alone.\"',\r\n    answer: ','\r\n  },\r\n  {\r\n    question: 'What is the correct verb to complete this sentence?\\nThe books on the table ___ new.',\r\n    answer: 'are'\r\n  },\r\n  {\r\n    question: 'Fix the verb:\\nNeither of them ___ coming.',\r\n    answer: 'is'\r\n  },\r\n  {\r\n    question: 'Fill in the blank with the correct article:\\n___ apple a day keeps the doctor away.',\r\n    answer: 'An'\r\n  },\r\n  {\r\n    question: 'Choose the correct word:\\nTheir voices echo in ___ memory.',\r\n    answer: 'my'\r\n  }\r\n];\r\n\r\nconst JungleLushLevel5 = () => {\r\n  const navigate = useNavigate();\r\n  const [phase, setPhase] = useState('dialogue');\r\n  const [dialogueIdx, setDialogueIdx] = useState(0);\r\n  const [victoryDialogueIdx, setVictoryDialogueIdx] = useState(0);\r\n  const [hearts, setHearts] = useState(3);\r\n  const [timeLeft, setTimeLeft] = useState(TIMER_DURATION);\r\n  const [monsterHP, setMonsterHP] = useState(100);\r\n  const [currentQuestion, setCurrentQuestion] = useState(0);\r\n  const [selectedAnswer, setSelectedAnswer] = useState(null);\r\n  const [userInput, setUserInput] = useState('');\r\n  const [showResult, setShowResult] = useState(false);\r\n  const [userDamaged, setUserDamaged] = useState(false);\r\n  const [monsterDamaged, setMonsterDamaged] = useState(false);\r\n  const [victory, setVictory] = useState(false);\r\n  const [gameOver, setGameOver] = useState(false);\r\n  const [showClickPrompt, setShowClickPrompt] = useState(false);\r\n  const [showQuit, setShowQuit] = useState(false);\r\n  const idleTimeout = useRef(null);\r\n  const [newRecord, setNewRecord] = useState(false);\r\n  const levelNumber = 5;\r\n\r\n  useEffect(() => {\r\n    setShowClickPrompt(false);\r\n    if (idleTimeout.current) clearTimeout(idleTimeout.current);\r\n    if (phase === 'dialogue' || phase === 'midBattleDialogue' || phase === 'defeatDialogue' || phase === 'victoryDialogue') {\r\n      idleTimeout.current = setTimeout(() => setShowClickPrompt(true), 2000);\r\n    }\r\n    return () => clearTimeout(idleTimeout.current);\r\n  }, [dialogueIdx, phase]);\r\n\r\n  useEffect(() => {\r\n    if ((phase === 'battle1' || phase === 'battle2') && timeLeft > 0 && !victory && !gameOver) {\r\n      const timer = setInterval(() => setTimeLeft(t => t - 1), 1000);\r\n      return () => clearInterval(timer);\r\n    } else if ((phase === 'battle1' || phase === 'battle2') && timeLeft === 0 && !victory && !gameOver) {\r\n      if (hearts > 1) {\r\n        setHearts(h => h - 1);\r\n        setTimeLeft(phase === 'battle1' ? TIMER_DURATION : PHASE2_TIMER_DURATION);\r\n        setSelectedAnswer(null);\r\n        setUserInput('');\r\n        setShowResult(false);\r\n      } else {\r\n        setHearts(0);\r\n        setGameOver(true);\r\n      }\r\n    }\r\n  }, [phase, timeLeft, victory, gameOver, hearts]);\r\n\r\n  const handleDialogueClick = () => {\r\n    setShowClickPrompt(false);\r\n    if (idleTimeout.current) clearTimeout(idleTimeout.current);\r\n    if (phase === 'dialogue') {\r\n      if (dialogueIdx < dialogueSequence.length - 1) {\r\n        setDialogueIdx(dialogueIdx + 1);\r\n      } else {\r\n        setPhase('battle1');\r\n        setMonsterHP(100);\r\n        setCurrentQuestion(0);\r\n        setTimeLeft(TIMER_DURATION);\r\n      }\r\n    } else if (phase === 'midBattleDialogue') {\r\n      if (dialogueIdx < midBattleDialogue.length - 1) {\r\n        setDialogueIdx(dialogueIdx + 1);\r\n      } else {\r\n        setPhase('battle2');\r\n        setCurrentQuestion(0);\r\n        setTimeLeft(PHASE2_TIMER_DURATION);\r\n        setUserInput('');\r\n      }\r\n    } else if (phase === 'defeatDialogue') {\r\n      if (dialogueIdx < defeatDialogue.length - 1) {\r\n        setDialogueIdx(dialogueIdx + 1);\r\n      } else {\r\n        setPhase('victoryDialogue');\r\n        setVictoryDialogueIdx(0);\r\n      }\r\n    } else if (phase === 'victoryDialogue') {\r\n      if (victoryDialogueIdx < victoryDialogue.length - 1) {\r\n        setVictoryDialogueIdx(victoryDialogueIdx + 1);\r\n      } else {\r\n        setVictory(true);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleAnswer = (idx) => {\r\n    if (phase !== 'battle1') return;\r\n    setSelectedAnswer(idx);\r\n    setShowResult(true);\r\n    if (idx === phase1Questions[currentQuestion].correctAnswer) {\r\n      setMonsterDamaged(true);\r\n      setTimeout(() => setMonsterDamaged(false), 500);\r\n      setMonsterHP(hp => {\r\n        const newHP = Math.max(0, hp - 20); // 5 hits to defeat in phase 1\r\n        if (currentQuestion === 4) {\r\n          setPhase('midBattleDialogue');\r\n          setDialogueIdx(0);\r\n        }\r\n        return newHP;\r\n      });\r\n      if (currentQuestion < phase1Questions.length - 1) {\r\n        setTimeout(() => {\r\n          setCurrentQuestion(prev => prev + 1);\r\n          setSelectedAnswer(null);\r\n          setShowResult(false);\r\n          setTimeLeft(TIMER_DURATION);\r\n        }, 600);\r\n      }\r\n    } else {\r\n      setUserDamaged(true);\r\n      setTimeout(() => setUserDamaged(false), 500);\r\n      if (hearts > 1) {\r\n        setTimeout(() => {\r\n          setHearts(h => h - 1);\r\n          setSelectedAnswer(null);\r\n          setShowResult(false);\r\n          setTimeLeft(TIMER_DURATION);\r\n        }, 600);\r\n      } else {\r\n        setTimeout(() => {\r\n          setHearts(0);\r\n          setGameOver(true);\r\n        }, 600);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleInputSubmit = (e) => {\r\n    if (phase !== 'battle2' || e.key !== 'Enter') return;\r\n    const answer = userInput.trim().toLowerCase();\r\n    const correctAnswer = phase2Questions[currentQuestion].answer.toLowerCase();\r\n    setShowResult(true);\r\n    if (answer === correctAnswer) {\r\n      setMonsterDamaged(true);\r\n      setTimeout(() => setMonsterDamaged(false), 500);\r\n      setMonsterHP(hp => {\r\n        const newHP = Math.max(0, hp - 20); // 5 hits to defeat in phase 2\r\n        if (newHP === 0) {\r\n          setPhase('defeatDialogue');\r\n          setDialogueIdx(0);\r\n        }\r\n        return newHP;\r\n      });\r\n      if (currentQuestion < phase2Questions.length - 1) {\r\n        setTimeout(() => {\r\n          setCurrentQuestion(prev => prev + 1);\r\n          setUserInput('');\r\n          setShowResult(false);\r\n          setTimeLeft(PHASE2_TIMER_DURATION);\r\n        }, 600);\r\n      }\r\n    } else {\r\n      setUserDamaged(true);\r\n      setTimeout(() => setUserDamaged(false), 500);\r\n      if (hearts > 1) {\r\n        setTimeout(() => {\r\n          setHearts(h => h - 1);\r\n          setUserInput('');\r\n          setShowResult(false);\r\n          setTimeLeft(PHASE2_TIMER_DURATION);\r\n        }, 600);\r\n      } else {\r\n        setTimeout(() => {\r\n          setHearts(0);\r\n          setGameOver(true);\r\n        }, 600);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleRetryBattle = () => {\r\n    setHearts(3);\r\n    setTimeLeft(TIMER_DURATION);\r\n    setMonsterHP(100);\r\n    setCurrentQuestion(0);\r\n    setSelectedAnswer(null);\r\n    setUserInput('');\r\n    setShowResult(false);\r\n    setGameOver(false);\r\n    setVictory(false);\r\n    setPhase('battle1');\r\n  };\r\n\r\n  const handleRetryWholeLevel = () => {\r\n    setHearts(3);\r\n    setTimeLeft(TIMER_DURATION);\r\n    setMonsterHP(100);\r\n    setCurrentQuestion(0);\r\n    setSelectedAnswer(null);\r\n    setUserInput('');\r\n    setShowResult(false);\r\n    setGameOver(false);\r\n    setVictory(false);\r\n    setPhase('dialogue');\r\n    setDialogueIdx(0);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (victory) {\r\n      async function saveProgress() {\r\n        try {\r\n          const token = localStorage.getItem('token');\r\n          await axios.post('/api/progress/levels/5', {\r\n            starsEarned: hearts,\r\n            completed: true\r\n          }, {\r\n            headers: { Authorization: `Bearer ${token}` },\r\n            withCredentials: true\r\n          });\r\n        } catch (e) {\r\n          // handle error (optional)\r\n        }\r\n      }\r\n      saveProgress();\r\n    }\r\n  }, [victory]);\r\n\r\n  let content = null;\r\n  if (phase === 'dialogue') {\r\n    const d = dialogueSequence[dialogueIdx];\r\n    content = (\r\n      <>\r\n        <SpritesRow>\r\n          <WizardUserGroup>\r\n            <WizardSprite src={WIZARD_IMG} />\r\n            <UserSprite src={USER_IMG} />\r\n          </WizardUserGroup>\r\n          <MonsterGroup>\r\n            {d.speaker === 'Grammowl' && <MonsterSprite src={GRAMMOWL_IMG} />}\r\n          </MonsterGroup>\r\n        </SpritesRow>\r\n        <DialogueBox elevation={6} onClick={handleDialogueClick} style={{ cursor: 'pointer', userSelect: 'none', marginTop: 180 }}>\r\n          <NameTag>{d.speaker}</NameTag>\r\n          <Typography variant=\"h6\" gutterBottom style={{ marginTop: 18, fontFamily: 'monospace' }}>\r\n            {d.text}\r\n          </Typography>\r\n          {showClickPrompt && <ClickPrompt>Click to continue</ClickPrompt>}\r\n        </DialogueBox>\r\n      </>\r\n    );\r\n  } else if (phase === 'midBattleDialogue') {\r\n    const d = midBattleDialogue[dialogueIdx];\r\n    content = (\r\n      <>\r\n        <SpritesRow>\r\n          <WizardUserGroup>\r\n            <WizardSprite src={WIZARD_IMG} />\r\n            <UserSprite src={USER_IMG} />\r\n          </WizardUserGroup>\r\n          <MonsterGroup>\r\n            <MonsterSprite src={GRAMMOWL_IMG} />\r\n          </MonsterGroup>\r\n        </SpritesRow>\r\n        <DialogueBox elevation={6} onClick={handleDialogueClick} style={{ cursor: 'pointer', userSelect: 'none', marginTop: 180 }}>\r\n          <NameTag>{d.speaker}</NameTag>\r\n          <Typography variant=\"h6\" gutterBottom style={{ marginTop: 18, fontFamily: 'monospace' }}>\r\n            {d.text}\r\n          </Typography>\r\n          {showClickPrompt && <ClickPrompt>Click to continue</ClickPrompt>}\r\n        </DialogueBox>\r\n      </>\r\n    );\r\n  } else if (phase === 'defeatDialogue') {\r\n    const d = defeatDialogue[dialogueIdx];\r\n    content = (\r\n      <>\r\n        <SpritesRow>\r\n          <WizardUserGroup>\r\n            <WizardSprite src={WIZARD_IMG} />\r\n            <UserSprite src={USER_IMG} />\r\n          </WizardUserGroup>\r\n          <MonsterGroup>\r\n            <MonsterSprite src={GRAMMOWL_IMG} />\r\n          </MonsterGroup>\r\n        </SpritesRow>\r\n        <DialogueBox elevation={6} onClick={handleDialogueClick} style={{ cursor: 'pointer', userSelect: 'none', marginTop: 180 }}>\r\n          <NameTag>{d.speaker}</NameTag>\r\n          <Typography variant=\"h6\" gutterBottom style={{ marginTop: 18, fontFamily: 'monospace' }}>\r\n            {d.text}\r\n          </Typography>\r\n          {showClickPrompt && <ClickPrompt>Click to continue</ClickPrompt>}\r\n        </DialogueBox>\r\n      </>\r\n    );\r\n  } else if (phase === 'victoryDialogue') {\r\n    const d = victoryDialogue[victoryDialogueIdx];\r\n    content = (\r\n      <>\r\n        <SpritesRow>\r\n          <WizardUserGroup>\r\n            <WizardSprite src={WIZARD_IMG} />\r\n            <UserSprite src={USER_IMG} />\r\n          </WizardUserGroup>\r\n        </SpritesRow>\r\n        <DialogueBox elevation={6} onClick={handleDialogueClick} style={{ cursor: 'pointer', userSelect: 'none', marginTop: 180 }}>\r\n          <NameTag>{d.speaker}</NameTag>\r\n          <Typography variant=\"h6\" gutterBottom style={{ marginTop: 18, fontFamily: 'monospace' }}>\r\n            {d.text}\r\n          </Typography>\r\n          {showClickPrompt && <ClickPrompt>Click to continue</ClickPrompt>}\r\n        </DialogueBox>\r\n      </>\r\n    );\r\n  } else if (phase === 'battle1' || phase === 'battle2') {\r\n    content = (\r\n      <>\r\n        <BattleSpritesRow>\r\n          <UserSprite src={USER_IMG} isDamaged={userDamaged} />\r\n          <VS>VS</VS>\r\n          <MonsterSpriteWrapper>\r\n            <MonsterHPText>Grammowl HP</MonsterHPText>\r\n            <MonsterHPBar>\r\n              <MonsterHPFill hp={monsterHP} />\r\n            </MonsterHPBar>\r\n            <MonsterSprite src={GRAMMOWL_IMG} isDamaged={monsterDamaged} />\r\n          </MonsterSpriteWrapper>\r\n        </BattleSpritesRow>\r\n        <BattleBottomBar>\r\n          <QuestionText>\r\n            {phase === 'battle1' ? phase1Questions[currentQuestion].question : phase2Questions[currentQuestion].question}\r\n          </QuestionText>\r\n          {phase === 'battle1' ? (\r\n            <ChoicesGrid count={4}>\r\n              {phase1Questions[currentQuestion].options.map((option, idx) => (\r\n                <MoveButton\r\n                  key={idx}\r\n                  selected={selectedAnswer === idx}\r\n                  onClick={() => handleAnswer(idx)}\r\n                  disableRipple\r\n                  style={{ fontFamily: 'monospace' }}\r\n                  disabled={showResult}\r\n                >\r\n                  {option}\r\n                </MoveButton>\r\n              ))}\r\n            </ChoicesGrid>\r\n          ) : (\r\n            <InputField\r\n              value={userInput}\r\n              onChange={(e) => setUserInput(e.target.value)}\r\n              onKeyPress={handleInputSubmit}\r\n              placeholder=\"Type your answer...\"\r\n              disabled={showResult}\r\n              autoFocus\r\n            />\r\n          )}\r\n        </BattleBottomBar>\r\n      </>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <SceneContainer>\r\n      <Ground />\r\n      <TopBar>\r\n        {(phase === 'battle1' || phase === 'battle2') ? (\r\n          <HeartRow>\r\n            {[...Array(3)].map((_, idx) => (\r\n              <img key={idx} src={HEART_IMG} alt=\"Heart\" style={{ width: 40, height: 40, opacity: idx < hearts ? 1 : 0.3 }} />\r\n            ))}\r\n          </HeartRow>\r\n        ) : <div />}\r\n        <div style={{ flex: 1 }} />\r\n        {(phase === 'battle1' || phase === 'battle2') ? (\r\n          <TimerBox>\r\n            <Typography style={{ fontWeight: 700, fontSize: '1.1rem', fontFamily: 'monospace' }}>TIMER</Typography>\r\n            <Typography style={{ fontWeight: 700, fontSize: '1.1rem', fontFamily: 'monospace' }}>{timeLeft}s</Typography>\r\n          </TimerBox>\r\n        ) : <div style={{ width: 90 }} />}\r\n        <Button variant=\"contained\" color=\"error\" onClick={() => setShowQuit(true)} startIcon={<CloseIcon />} style={{ fontWeight: 700, fontFamily: 'monospace', borderRadius: 18, marginLeft: 16 }}>\r\n          Quit\r\n        </Button>\r\n      </TopBar>\r\n      {content}\r\n      <Dialog open={showQuit} onClose={() => setShowQuit(false)}>\r\n        <DialogContent>\r\n          <Typography variant=\"h6\" align=\"center\">Are you sure you want to quit?</Typography>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setShowQuit(false)} color=\"primary\">Cancel</Button>\r\n          <Button onClick={() => navigate('/jungle-lush')} color=\"error\">Quit</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Dialog open={gameOver && hearts === 0} onClose={() => {}}>\r\n        <DialogContent>\r\n          <Typography variant=\"h5\" align=\"center\">Game Over! Try again?</Typography>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleRetryBattle} color=\"primary\">Retry</Button>\r\n          <Button onClick={() => navigate('/jungle-lush')} color=\"error\">Quit</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      {victory && (\r\n        <VictoryOverlay>\r\n          <VictoryContainer elevation={12}>\r\n            <Typography style={{ color: '#3a2a1a', fontFamily: 'monospace', fontWeight: 700, fontSize: '1.1rem', marginBottom: 2, textAlign: 'center', letterSpacing: 1 }}>Battle Rating</Typography>\r\n            <StarRow>\r\n              {[1,2,3].map(i => (\r\n                <Star key={i} filled={hearts >= i} style={newRecord && hearts >= i ? { animation: 'popIn 0.5s' } : {}}>\r\n                  ★\r\n                </Star>\r\n              ))}\r\n            </StarRow>\r\n            {newRecord && (\r\n              <Typography style={{ color: '#d32f2f', fontWeight: 900, fontFamily: 'monospace', fontSize: '1.3rem', marginBottom: 8, textAlign: 'center', letterSpacing: 1, animation: 'popIn 0.7s' }}>\r\n                New Record!\r\n              </Typography>\r\n            )}\r\n            <VictoryTitle>Victory!<br />You've obtained the Scroll of Grammar!</VictoryTitle>\r\n            <Typography style={{ color: '#3a2a1a', fontFamily: 'monospace', marginBottom: 24, fontSize: '1.1rem', textAlign: 'center' }}>\r\n              The first spark of knowledge is yours.\r\n            </Typography>\r\n            <VictoryButton variant=\"contained\" color=\"success\" onClick={() => navigate('/jungle-lush')}>Return to Level Select</VictoryButton>\r\n            <VictoryButton variant=\"outlined\" color=\"primary\" onClick={handleRetryWholeLevel}>Retry Level</VictoryButton>\r\n            <VictoryButton variant=\"outlined\" color=\"error\" onClick={() => navigate('/jungle-lush')}>Quit</VictoryButton>\r\n          </VictoryContainer>\r\n        </VictoryOverlay>\r\n      )}\r\n      <button className=\"jl-return-btn\" style={{ marginTop: 32 }} onClick={() => navigate('/jungle-lush')}>Return to Jungle Lush</button>\r\n    </SceneContainer>\r\n  );\r\n};\r\n\r\nexport default JungleLushLevel5;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}