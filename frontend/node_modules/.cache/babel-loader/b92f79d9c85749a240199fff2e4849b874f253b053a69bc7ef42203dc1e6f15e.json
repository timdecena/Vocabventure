{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Jake\\\\Desktop\\\\VocabVenture\\\\Vocabventure\\\\frontend\\\\src\\\\pages\\\\Profile.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Box, Container, Button, Avatar, Typography, Divider, Snackbar, Alert, IconButton } from '@mui/material';\nimport EditIcon from '@mui/icons-material/Edit';\nimport NotificationsIcon from '@mui/icons-material/Notifications';\nimport EmojiEventsIcon from '@mui/icons-material/EmojiEvents';\nimport LightbulbIcon from '@mui/icons-material/Lightbulb';\nimport AddAPhotoIcon from '@mui/icons-material/AddAPhoto';\nimport axios from 'axios';\nimport Navbar from '../components/Navbar';\nimport { useTheme, styled } from '@mui/material/styles';\n\n// Meteor animation component\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Meteor = styled(Box)(({\n  delay = 0\n}) => ({\n  position: 'absolute',\n  width: '2px',\n  height: '2px',\n  background: '#fff',\n  opacity: 0,\n  '&::before': {\n    content: '\"\"',\n    position: 'absolute',\n    width: '50px',\n    height: '1px',\n    background: 'linear-gradient(90deg, #fff, transparent)',\n    transform: 'translateX(-100%)'\n  },\n  animation: 'meteor 3s ease-in infinite',\n  animationDelay: delay + 's',\n  top: Math.random() * 50 + '%',\n  left: Math.random() * 100 + '%'\n}));\n\n// Star background with multiple layers\n_c = Meteor;\nconst StarBackground = styled(Box)(({\n  theme\n}) => ({\n  position: 'fixed',\n  top: 0,\n  left: 0,\n  right: 0,\n  bottom: 0,\n  pointerEvents: 'none',\n  '&::before, &::after, &::before': {\n    content: '\"\"',\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    background: 'radial-gradient(2px 2px at var(--star-x) var(--star-y), #fff, rgba(0,0,0,0))',\n    backgroundSize: '200px 200px',\n    animation: 'moveStars 60s linear infinite'\n  },\n  '&::after': {\n    backgroundSize: '300px 300px',\n    animation: 'moveStars 90s linear infinite',\n    opacity: 0.6,\n    filter: 'blur(1px)'\n  },\n  '& > div': {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    background: 'radial-gradient(1px 1px at var(--star-x2) var(--star-y2), rgba(0,255,170,0.4), rgba(0,0,0,0))',\n    backgroundSize: '400px 400px',\n    animation: 'moveStars 120s linear infinite',\n    opacity: 0.3,\n    filter: 'blur(0.5px)'\n  },\n  '@keyframes moveStars': {\n    '0%': {\n      transform: 'translateY(0)'\n    },\n    '100%': {\n      transform: 'translateY(-100%)'\n    }\n  }\n}));\n\n// Constellation point\n_c2 = StarBackground;\nconst ConstellationPoint = styled(Box)(({\n  size = 2,\n  glow = false\n}) => ({\n  position: 'absolute',\n  width: size + 'px',\n  height: size + 'px',\n  background: '#fff',\n  borderRadius: '50%',\n  boxShadow: glow ? '0 0 10px rgba(0, 255, 170, 0.8)' : 'none',\n  animation: 'twinkle 3s ease-in-out infinite'\n}));\n_c3 = ConstellationPoint;\nconst Profile = () => {\n  _s();\n  const theme = useTheme();\n  const [userData, setUserData] = useState({});\n  const [profilePicture, setProfilePicture] = useState(null);\n  const [snackbar, setSnackbar] = useState({\n    open: false,\n    message: '',\n    severity: 'info'\n  });\n  const [stats, setStats] = useState({\n    achievements: [],\n    streak: 7,\n    completedLessons: 12,\n    wordsLearned: 120,\n    quizzesTaken: 8,\n    experience: 450,\n    nextLevelExp: 500,\n    level: 3,\n    recentActivity: []\n  });\n  useEffect(() => {\n    // Fetch user data from localStorage\n    const fetchUserData = () => {\n      try {\n        const userStr = localStorage.getItem('user');\n        if (userStr) {\n          setUserData(JSON.parse(userStr));\n          fetchProfilePicture();\n        }\n      } catch (error) {\n        console.error('Error fetching user data:', error);\n      }\n    };\n    fetchUserData();\n  }, []);\n\n  // Fetch user profile picture\n  const fetchProfilePicture = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      if (!token) {\n        console.log('No token available');\n        return;\n      }\n      const response = await axios.get('http://localhost:8081/users/me/profile-picture', {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Accept': 'image/*'\n        },\n        responseType: 'blob',\n        withCredentials: true\n      });\n      if (response.status === 200 && response.data) {\n        const imageUrl = URL.createObjectURL(response.data);\n        setProfilePicture(imageUrl);\n      }\n    } catch (error) {\n      console.log('No profile picture available or error fetching it:', error.message);\n      // Don't show error to user as this is expected for new accounts\n    }\n  };\n  const handleProfilePictureUpload = async event => {\n    const file = event.target.files[0];\n    if (!file) return;\n\n    // Validate file is an image and size is reasonable\n    if (!file.type.startsWith('image/')) {\n      setSnackbar({\n        open: true,\n        message: 'Only image files are allowed',\n        severity: 'error'\n      });\n      return;\n    }\n    if (file.size > 2 * 1024 * 1024) {\n      // 2MB limit\n      setSnackbar({\n        open: true,\n        message: 'Image size should be less than 2MB',\n        severity: 'error'\n      });\n      return;\n    }\n    try {\n      const token = localStorage.getItem('token');\n      if (!token) {\n        setSnackbar({\n          open: true,\n          message: 'You must be logged in to upload a profile picture',\n          severity: 'error'\n        });\n        return;\n      }\n      const formData = new FormData();\n      formData.append('file', file);\n\n      // Log the token format to help debug\n      console.log('Token format check:', token.substring(0, 10) + '...');\n      const response = await axios.post('http://localhost:8081/users/me/profile-picture', formData, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n          // Don't set Content-Type here, it will be set automatically with the correct boundary\n        },\n        withCredentials: true\n      });\n      if (response.data) {\n        // Fetch the newly uploaded image\n        const profilePicResponse = await axios.get('http://localhost:8081/users/me/profile-picture', {\n          headers: {\n            'Authorization': `Bearer ${token}`,\n            'Accept': 'image/*'\n          },\n          responseType: 'blob',\n          withCredentials: true\n        });\n        if (profilePicResponse.data) {\n          const imageUrl = URL.createObjectURL(profilePicResponse.data);\n          setProfilePicture(imageUrl);\n\n          // Dispatch event to notify other components (like Navbar) of the profile picture update\n          window.dispatchEvent(new Event('profilePictureUpdated'));\n          setSnackbar({\n            open: true,\n            message: response.data.message || 'Profile picture updated successfully',\n            severity: 'success'\n          });\n        }\n      }\n    } catch (error) {\n      console.error('Error uploading profile picture:', error);\n      let errorMessage = 'Failed to upload profile picture';\n      if (error.response) {\n        var _error$response$data;\n        // The request was made and the server responded with a status code\n        // that falls out of the range of 2xx\n        errorMessage = ((_error$response$data = error.response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || `Server error: ${error.response.status} ${error.response.statusText}`;\n        console.error('Response data:', error.response.data);\n        console.error('Response status:', error.response.status);\n      } else if (error.request) {\n        // The request was made but no response was received\n        errorMessage = 'No response from server. Please check your connection.';\n        console.error('Request:', error.request);\n      } else {\n        // Something happened in setting up the request that triggered an Error\n        errorMessage = error.message;\n        console.error('Error message:', error.message);\n      }\n      setSnackbar({\n        open: true,\n        message: errorMessage,\n        severity: 'error'\n      });\n    }\n  };\n  const handleCloseSnackbar = () => {\n    setSnackbar({\n      ...snackbar,\n      open: false\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      minHeight: '100vh',\n      bgcolor: '#0a0a2e',\n      position: 'relative',\n      overflow: 'hidden',\n      pt: 10,\n      // Add padding for the navbar\n      pb: 5\n    },\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(StarBackground, {\n      children: [[...Array(50)].map((_, index) => /*#__PURE__*/_jsxDEV(Meteor, {\n        delay: index * 0.1\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 11\n      }, this)), [...Array(20)].map((_, index) => /*#__PURE__*/_jsxDEV(ConstellationPoint, {\n        size: Math.random() * 5 + 1,\n        glow: Math.random() < 0.5\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"lg\",\n      sx: {\n        mt: 2,\n        pb: 4\n      },\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'grid',\n          gridTemplateColumns: 'repeat(8, 1fr)',\n          gridTemplateRows: 'repeat(8, 1fr)',\n          gap: 2,\n          minHeight: '80vh'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            gridColumn: '2 / span 3',\n            gridRow: '2 / span 3',\n            bgcolor: 'primary.main',\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n            justifyContent: 'center',\n            borderRadius: 4,\n            p: 4,\n            boxShadow: 3,\n            position: 'relative'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              position: 'relative',\n              mb: 2\n            },\n            children: [/*#__PURE__*/_jsxDEV(Avatar, {\n              src: profilePicture,\n              alt: (userData === null || userData === void 0 ? void 0 : userData.username) || 'User',\n              sx: {\n                width: 100,\n                height: 100,\n                mb: 2,\n                border: '3px solid white'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n              component: \"label\",\n              htmlFor: \"profile-picture-input\",\n              sx: {\n                position: 'absolute',\n                bottom: 0,\n                right: 0,\n                bgcolor: 'secondary.main',\n                color: 'white',\n                '&:hover': {\n                  bgcolor: 'secondary.dark'\n                },\n                boxShadow: 3\n              },\n              children: [/*#__PURE__*/_jsxDEV(AddAPhotoIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 346,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"profile-picture-input\",\n                type: \"file\",\n                accept: \"image/*\",\n                style: {\n                  display: 'none'\n                },\n                onChange: handleProfilePictureUpload\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 347,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h5\",\n            color: \"white\",\n            fontWeight: 700,\n            children: (userData === null || userData === void 0 ? void 0 : userData.username) || 'User'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            color: \"white\",\n            sx: {\n              mb: 2\n            },\n            children: (userData === null || userData === void 0 ? void 0 : userData.email) || 'user@example.com'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            startIcon: /*#__PURE__*/_jsxDEV(EditIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 26\n            }, this),\n            sx: {\n              mt: 2,\n              bgcolor: 'secondary.main',\n              '&:hover': {\n                bgcolor: 'secondary.dark'\n              }\n            },\n            children: \"Edit Profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            gridColumn: '5 / span 3',\n            gridRow: '2 / span 3',\n            bgcolor: 'secondary.main',\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n            justifyContent: 'center',\n            borderRadius: 4,\n            p: 4,\n            boxShadow: 3\n          },\n          children: [/*#__PURE__*/_jsxDEV(EmojiEventsIcon, {\n            sx: {\n              fontSize: 48,\n              mb: 2,\n              color: 'white'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            color: \"white\",\n            fontWeight: 700,\n            sx: {\n              mb: 1\n            },\n            children: \"Achievements\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 387,\n            columnNumber: 13\n          }, this), stats.achievements.length > 0 ? stats.achievements.map((ach, index) => /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            color: \"white\",\n            children: ach.title\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 17\n          }, this)) : /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            color: \"white\",\n            children: \"No achievements yet\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 397,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            gridColumn: '4 / span 4',\n            gridRow: '5 / span 3',\n            bgcolor: 'success.main',\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n            justifyContent: 'center',\n            borderRadius: 4,\n            p: 4,\n            boxShadow: 3\n          },\n          children: [/*#__PURE__*/_jsxDEV(LightbulbIcon, {\n            sx: {\n              fontSize: 48,\n              mb: 2,\n              color: 'white'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 418,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            color: \"white\",\n            fontWeight: 700,\n            sx: {\n              mb: 1\n            },\n            children: \"Today's Tip\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 419,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            color: \"white\",\n            textAlign: \"center\",\n            children: \"\\\"Consistency beats motivation. Keep showing up!\\\"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 422,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            gridColumn: '2 / span 2',\n            gridRow: '5 / span 3',\n            bgcolor: 'error.main',\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n            justifyContent: 'center',\n            borderRadius: 4,\n            p: 4,\n            boxShadow: 3\n          },\n          children: [/*#__PURE__*/_jsxDEV(NotificationsIcon, {\n            sx: {\n              fontSize: 48,\n              mb: 2,\n              color: 'white'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 442,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            color: \"white\",\n            fontWeight: 700,\n            sx: {\n              mb: 1\n            },\n            children: \"Notifications\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 443,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            color: \"white\",\n            textAlign: \"center\",\n            children: \"New game available! Join now \\uD83C\\uDFAE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 446,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 428,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      open: snackbar.open,\n      autoHideDuration: 6000,\n      onClose: handleCloseSnackbar,\n      anchorOrigin: {\n        vertical: 'bottom',\n        horizontal: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        onClose: handleCloseSnackbar,\n        severity: snackbar.severity,\n        sx: {\n          width: '100%'\n        },\n        children: snackbar.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 460,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 454,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 280,\n    columnNumber: 5\n  }, this);\n};\n_s(Profile, \"S5ofA3sUIUCyAMU3LgqMXpepihU=\", false, function () {\n  return [useTheme];\n});\n_c4 = Profile;\nexport default Profile;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"Meteor\");\n$RefreshReg$(_c2, \"StarBackground\");\n$RefreshReg$(_c3, \"ConstellationPoint\");\n$RefreshReg$(_c4, \"Profile\");","map":{"version":3,"names":["React","useState","useEffect","Box","Container","Button","Avatar","Typography","Divider","Snackbar","Alert","IconButton","EditIcon","NotificationsIcon","EmojiEventsIcon","LightbulbIcon","AddAPhotoIcon","axios","Navbar","useTheme","styled","jsxDEV","_jsxDEV","Meteor","delay","position","width","height","background","opacity","content","transform","animation","animationDelay","top","Math","random","left","_c","StarBackground","theme","right","bottom","pointerEvents","backgroundSize","filter","_c2","ConstellationPoint","size","glow","borderRadius","boxShadow","_c3","Profile","_s","userData","setUserData","profilePicture","setProfilePicture","snackbar","setSnackbar","open","message","severity","stats","setStats","achievements","streak","completedLessons","wordsLearned","quizzesTaken","experience","nextLevelExp","level","recentActivity","fetchUserData","userStr","localStorage","getItem","JSON","parse","fetchProfilePicture","error","console","token","log","response","get","headers","responseType","withCredentials","status","data","imageUrl","URL","createObjectURL","handleProfilePictureUpload","event","file","target","files","type","startsWith","formData","FormData","append","substring","post","profilePicResponse","window","dispatchEvent","Event","errorMessage","_error$response$data","statusText","request","handleCloseSnackbar","sx","minHeight","bgcolor","overflow","pt","pb","children","fileName","_jsxFileName","lineNumber","columnNumber","Array","map","_","index","maxWidth","mt","display","gridTemplateColumns","gridTemplateRows","gap","gridColumn","gridRow","flexDirection","alignItems","justifyContent","p","mb","src","alt","username","border","component","htmlFor","color","id","accept","style","onChange","variant","fontWeight","email","startIcon","fontSize","length","ach","title","textAlign","autoHideDuration","onClose","anchorOrigin","vertical","horizontal","_c4","$RefreshReg$"],"sources":["C:/Users/Jake/Desktop/VocabVenture/Vocabventure/frontend/src/pages/Profile.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Box,\r\n  Container,\r\n  Button,\r\n  Avatar,\r\n  Typography,\r\n  Divider,\r\n  Snackbar,\r\n  Alert,\r\n  IconButton\r\n} from '@mui/material';\r\nimport EditIcon from '@mui/icons-material/Edit';\r\nimport NotificationsIcon from '@mui/icons-material/Notifications';\r\nimport EmojiEventsIcon from '@mui/icons-material/EmojiEvents';\r\nimport LightbulbIcon from '@mui/icons-material/Lightbulb';\r\nimport AddAPhotoIcon from '@mui/icons-material/AddAPhoto';\r\nimport axios from 'axios';\r\nimport Navbar from '../components/Navbar';\r\nimport { useTheme, styled } from '@mui/material/styles';\r\n\r\n// Meteor animation component\r\nconst Meteor = styled(Box)(({ delay = 0 }) => ({\r\n  position: 'absolute',\r\n  width: '2px',\r\n  height: '2px',\r\n  background: '#fff',\r\n  opacity: 0,\r\n  '&::before': {\r\n    content: '\"\"',\r\n    position: 'absolute',\r\n    width: '50px',\r\n    height: '1px',\r\n    background: 'linear-gradient(90deg, #fff, transparent)',\r\n    transform: 'translateX(-100%)',\r\n  },\r\n  animation: 'meteor 3s ease-in infinite',\r\n  animationDelay: delay + 's',\r\n  top: Math.random() * 50 + '%',\r\n  left: Math.random() * 100 + '%',\r\n}));\r\n\r\n// Star background with multiple layers\r\nconst StarBackground = styled(Box)(({ theme }) => ({\r\n  position: 'fixed',\r\n  top: 0,\r\n  left: 0,\r\n  right: 0,\r\n  bottom: 0,\r\n  pointerEvents: 'none',\r\n  '&::before, &::after, &::before': {\r\n    content: '\"\"',\r\n    position: 'absolute',\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    background: 'radial-gradient(2px 2px at var(--star-x) var(--star-y), #fff, rgba(0,0,0,0))',\r\n    backgroundSize: '200px 200px',\r\n    animation: 'moveStars 60s linear infinite',\r\n  },\r\n  '&::after': {\r\n    backgroundSize: '300px 300px',\r\n    animation: 'moveStars 90s linear infinite',\r\n    opacity: 0.6,\r\n    filter: 'blur(1px)',\r\n  },\r\n  '& > div': {\r\n    position: 'absolute',\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    background: 'radial-gradient(1px 1px at var(--star-x2) var(--star-y2), rgba(0,255,170,0.4), rgba(0,0,0,0))',\r\n    backgroundSize: '400px 400px',\r\n    animation: 'moveStars 120s linear infinite',\r\n    opacity: 0.3,\r\n    filter: 'blur(0.5px)',\r\n  },\r\n  '@keyframes moveStars': {\r\n    '0%': {\r\n      transform: 'translateY(0)'\r\n    },\r\n    '100%': {\r\n      transform: 'translateY(-100%)'\r\n    }\r\n  }\r\n}));\r\n\r\n// Constellation point\r\nconst ConstellationPoint = styled(Box)(({ size = 2, glow = false }) => ({\r\n  position: 'absolute',\r\n  width: size + 'px',\r\n  height: size + 'px',\r\n  background: '#fff',\r\n  borderRadius: '50%',\r\n  boxShadow: glow ? '0 0 10px rgba(0, 255, 170, 0.8)' : 'none',\r\n  animation: 'twinkle 3s ease-in-out infinite',\r\n}));\r\n\r\nconst Profile = () => {\r\n  const theme = useTheme();\r\n  const [userData, setUserData] = useState({});\r\n  const [profilePicture, setProfilePicture] = useState(null);\r\n  const [snackbar, setSnackbar] = useState({\r\n    open: false,\r\n    message: '',\r\n    severity: 'info'\r\n  });\r\n  const [stats, setStats] = useState({\r\n    achievements: [],\r\n    streak: 7,\r\n    completedLessons: 12,\r\n    wordsLearned: 120,\r\n    quizzesTaken: 8,\r\n    experience: 450,\r\n    nextLevelExp: 500,\r\n    level: 3,\r\n    recentActivity: []\r\n  });\r\n\r\n  useEffect(() => {\r\n    // Fetch user data from localStorage\r\n    const fetchUserData = () => {\r\n      try {\r\n        const userStr = localStorage.getItem('user');\r\n        if (userStr) {\r\n          setUserData(JSON.parse(userStr));\r\n          fetchProfilePicture();\r\n        }\r\n      } catch (error) {\r\n        console.error('Error fetching user data:', error);\r\n      }\r\n    };\r\n\r\n    fetchUserData();\r\n  }, []);\r\n\r\n  // Fetch user profile picture\r\n  const fetchProfilePicture = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      if (!token) {\r\n        console.log('No token available');\r\n        return;\r\n      }\r\n      \r\n      const response = await axios.get('http://localhost:8081/users/me/profile-picture', {\r\n        headers: { \r\n          'Authorization': `Bearer ${token}`,\r\n          'Accept': 'image/*'\r\n        },\r\n        responseType: 'blob',\r\n        withCredentials: true\r\n      });\r\n      \r\n      if (response.status === 200 && response.data) {\r\n        const imageUrl = URL.createObjectURL(response.data);\r\n        setProfilePicture(imageUrl);\r\n      }\r\n    } catch (error) {\r\n      console.log('No profile picture available or error fetching it:', error.message);\r\n      // Don't show error to user as this is expected for new accounts\r\n    }\r\n  };\r\n\r\n  const handleProfilePictureUpload = async (event) => {\r\n    const file = event.target.files[0];\r\n    if (!file) return;\r\n    \r\n    // Validate file is an image and size is reasonable\r\n    if (!file.type.startsWith('image/')) {\r\n      setSnackbar({\r\n        open: true,\r\n        message: 'Only image files are allowed',\r\n        severity: 'error'\r\n      });\r\n      return;\r\n    }\r\n    \r\n    if (file.size > 2 * 1024 * 1024) { // 2MB limit\r\n      setSnackbar({\r\n        open: true,\r\n        message: 'Image size should be less than 2MB',\r\n        severity: 'error'\r\n      });\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      if (!token) {\r\n        setSnackbar({\r\n          open: true,\r\n          message: 'You must be logged in to upload a profile picture',\r\n          severity: 'error'\r\n        });\r\n        return;\r\n      }\r\n      \r\n      const formData = new FormData();\r\n      formData.append('file', file);\r\n      \r\n      // Log the token format to help debug\r\n      console.log('Token format check:', token.substring(0, 10) + '...');\r\n      \r\n      const response = await axios.post('http://localhost:8081/users/me/profile-picture', \r\n        formData, \r\n        {\r\n          headers: { \r\n            'Authorization': `Bearer ${token}`,\r\n            // Don't set Content-Type here, it will be set automatically with the correct boundary\r\n          },\r\n          withCredentials: true\r\n        }\r\n      );\r\n      \r\n      if (response.data) {\r\n        // Fetch the newly uploaded image\r\n        const profilePicResponse = await axios.get('http://localhost:8081/users/me/profile-picture', {\r\n          headers: { \r\n            'Authorization': `Bearer ${token}`,\r\n            'Accept': 'image/*'\r\n          },\r\n          responseType: 'blob',\r\n          withCredentials: true\r\n        });\r\n        \r\n        if (profilePicResponse.data) {\r\n          const imageUrl = URL.createObjectURL(profilePicResponse.data);\r\n          setProfilePicture(imageUrl);\r\n          \r\n          // Dispatch event to notify other components (like Navbar) of the profile picture update\r\n          window.dispatchEvent(new Event('profilePictureUpdated'));\r\n          \r\n          setSnackbar({\r\n            open: true,\r\n            message: response.data.message || 'Profile picture updated successfully',\r\n            severity: 'success'\r\n          });\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Error uploading profile picture:', error);\r\n      let errorMessage = 'Failed to upload profile picture';\r\n      \r\n      if (error.response) {\r\n        // The request was made and the server responded with a status code\r\n        // that falls out of the range of 2xx\r\n        errorMessage = error.response.data?.message || \r\n                      `Server error: ${error.response.status} ${error.response.statusText}`;\r\n        console.error('Response data:', error.response.data);\r\n        console.error('Response status:', error.response.status);\r\n      } else if (error.request) {\r\n        // The request was made but no response was received\r\n        errorMessage = 'No response from server. Please check your connection.';\r\n        console.error('Request:', error.request);\r\n      } else {\r\n        // Something happened in setting up the request that triggered an Error\r\n        errorMessage = error.message;\r\n        console.error('Error message:', error.message);\r\n      }\r\n      \r\n      setSnackbar({\r\n        open: true,\r\n        message: errorMessage,\r\n        severity: 'error'\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleCloseSnackbar = () => {\r\n    setSnackbar({\r\n      ...snackbar,\r\n      open: false\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Box sx={{ \r\n      minHeight: '100vh',\r\n      bgcolor: '#0a0a2e',\r\n      position: 'relative',\r\n      overflow: 'hidden',\r\n      pt: 10, // Add padding for the navbar\r\n      pb: 5\r\n    }}>\r\n      <Navbar />\r\n      \r\n      <StarBackground>\r\n        {[...Array(50)].map((_, index) => (\r\n          <Meteor key={index} delay={index * 0.1} />\r\n        ))}\r\n        {[...Array(20)].map((_, index) => (\r\n          <ConstellationPoint key={index} size={Math.random() * 5 + 1} glow={Math.random() < 0.5} />\r\n        ))}\r\n      </StarBackground>\r\n      \r\n      <Container maxWidth=\"lg\" sx={{ mt: 2, pb: 4 }}>\r\n        <Box\r\n          sx={{\r\n            display: 'grid',\r\n            gridTemplateColumns: 'repeat(8, 1fr)',\r\n            gridTemplateRows: 'repeat(8, 1fr)',\r\n            gap: 2,\r\n            minHeight: '80vh'\r\n          }}\r\n        >\r\n          {/* Box 1 - Profile */}\r\n          <Box\r\n            sx={{\r\n              gridColumn: '2 / span 3',\r\n              gridRow: '2 / span 3',\r\n              bgcolor: 'primary.main',\r\n              display: 'flex',\r\n              flexDirection: 'column',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n              borderRadius: 4,\r\n              p: 4,\r\n              boxShadow: 3,\r\n              position: 'relative'\r\n            }}\r\n          >\r\n            <Box sx={{ position: 'relative', mb: 2 }}>\r\n              <Avatar\r\n                src={profilePicture}\r\n                alt={userData?.username || 'User'}\r\n                sx={{ width: 100, height: 100, mb: 2, border: '3px solid white' }}\r\n              />\r\n              <IconButton \r\n                component=\"label\"\r\n                htmlFor=\"profile-picture-input\"\r\n                sx={{\r\n                  position: 'absolute',\r\n                  bottom: 0,\r\n                  right: 0,\r\n                  bgcolor: 'secondary.main',\r\n                  color: 'white',\r\n                  '&:hover': {\r\n                    bgcolor: 'secondary.dark'\r\n                  },\r\n                  boxShadow: 3\r\n                }}\r\n              >\r\n                <AddAPhotoIcon />\r\n                <input\r\n                  id=\"profile-picture-input\"\r\n                  type=\"file\"\r\n                  accept=\"image/*\"\r\n                  style={{ display: 'none' }}\r\n                  onChange={handleProfilePictureUpload}\r\n                />\r\n              </IconButton>\r\n            </Box>\r\n            <Typography variant=\"h5\" color=\"white\" fontWeight={700}>\r\n              {userData?.username || 'User'}\r\n            </Typography>\r\n            <Typography variant=\"body2\" color=\"white\" sx={{ mb: 2 }}>\r\n              {userData?.email || 'user@example.com'}\r\n            </Typography>\r\n            <Button\r\n              variant=\"contained\"\r\n              startIcon={<EditIcon />}\r\n              sx={{ mt: 2, bgcolor: 'secondary.main', '&:hover': { bgcolor: 'secondary.dark' } }}\r\n            >\r\n              Edit Profile\r\n            </Button>\r\n          </Box>\r\n\r\n          {/* Box 2 - Achievements */}\r\n          <Box\r\n            sx={{\r\n              gridColumn: '5 / span 3',\r\n              gridRow: '2 / span 3',\r\n              bgcolor: 'secondary.main',\r\n              display: 'flex',\r\n              flexDirection: 'column',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n              borderRadius: 4,\r\n              p: 4,\r\n              boxShadow: 3\r\n            }}\r\n          >\r\n            <EmojiEventsIcon sx={{ fontSize: 48, mb: 2, color: 'white' }} />\r\n            <Typography variant=\"h6\" color=\"white\" fontWeight={700} sx={{ mb: 1 }}>\r\n              Achievements\r\n            </Typography>\r\n            {stats.achievements.length > 0 ? (\r\n              stats.achievements.map((ach, index) => (\r\n                <Typography key={index} variant=\"body2\" color=\"white\">\r\n                  {ach.title}\r\n                </Typography>\r\n              ))\r\n            ) : (\r\n              <Typography variant=\"body2\" color=\"white\">\r\n                No achievements yet\r\n              </Typography>\r\n            )}\r\n          </Box>\r\n\r\n          {/* Box 3 - Creative Area */}\r\n          <Box\r\n            sx={{\r\n              gridColumn: '4 / span 4',\r\n              gridRow: '5 / span 3',\r\n              bgcolor: 'success.main',\r\n              display: 'flex',\r\n              flexDirection: 'column',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n              borderRadius: 4,\r\n              p: 4,\r\n              boxShadow: 3\r\n            }}\r\n          >\r\n            <LightbulbIcon sx={{ fontSize: 48, mb: 2, color: 'white' }} />\r\n            <Typography variant=\"h6\" color=\"white\" fontWeight={700} sx={{ mb: 1 }}>\r\n              Today's Tip\r\n            </Typography>\r\n            <Typography variant=\"body2\" color=\"white\" textAlign=\"center\">\r\n              \"Consistency beats motivation. Keep showing up!\"\r\n            </Typography>\r\n          </Box>\r\n\r\n          {/* Box 4 - Notifications / Games */}\r\n          <Box\r\n            sx={{\r\n              gridColumn: '2 / span 2',\r\n              gridRow: '5 / span 3',\r\n              bgcolor: 'error.main',\r\n              display: 'flex',\r\n              flexDirection: 'column',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n              borderRadius: 4,\r\n              p: 4,\r\n              boxShadow: 3\r\n            }}\r\n          >\r\n            <NotificationsIcon sx={{ fontSize: 48, mb: 2, color: 'white' }} />\r\n            <Typography variant=\"h6\" color=\"white\" fontWeight={700} sx={{ mb: 1 }}>\r\n              Notifications\r\n            </Typography>\r\n            <Typography variant=\"body2\" color=\"white\" textAlign=\"center\">\r\n              New game available! Join now 🎮\r\n            </Typography>\r\n          </Box>\r\n        </Box>\r\n      </Container>\r\n      \r\n      {/* Snackbar for notifications */}\r\n      <Snackbar \r\n        open={snackbar.open} \r\n        autoHideDuration={6000} \r\n        onClose={handleCloseSnackbar}\r\n        anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\r\n      >\r\n        <Alert \r\n          onClose={handleCloseSnackbar} \r\n          severity={snackbar.severity} \r\n          sx={{ width: '100%' }}\r\n        >\r\n          {snackbar.message}\r\n        </Alert>\r\n      </Snackbar>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Profile;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}